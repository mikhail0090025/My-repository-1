define(["jquery","OK/utils/utils"],function(c,a){return{activate:function(e){var d=c(e);d.on("click",".js-add-friend",function(f){a.ajax({url:d.data("url")}).done(function(){b(d,".js-done");}).fail(function(h,i,g){if(i=="success"&&g=="Redirect"){b(d,".js-done");}});return false;});d.on("click",".js-decline-friend",function(j){var f=this.getAttribute("data-friendId");var i=this.getAttribute("data-bpr")=="true";var g=i?"bpdecline":"decline";var h=i?"Feed_FriendshipRequestsByPhoto_Decline":"friendRequestPortlet";a.ajax({url:d.data("declineurl"),data:{action:g,target:f,"st._aid":h,"st.modes":"noResponse"}}).done(function(){b(d,".js-decline-done");}).fail(function(l,m,k){if(m=="success"&&k=="Redirect"){b(d,".js-decline-done");}});return false;});},deactivate:function(e){var d=c(e);d.off("click",".js-add-friend");d.off("click",".js-decline-friend");}};function b(e,d){c(".js-add-friend",e).addClass("invisible");c(".js-decline-friend",e).addClass("invisible");c(d,e).removeClass("invisible");}});