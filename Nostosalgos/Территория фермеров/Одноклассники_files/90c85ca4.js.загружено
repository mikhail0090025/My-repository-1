define(function(){var b;var a;var e;function d(){a=null;b=null;document.getElementById("toolbar_back_id").classList.add("invisible");var f=document.getElementById("toolbar_logo_id");f.classList.remove("__with-back");f.removeAttribute("data-l");f.removeAttribute("data-log");}function c(){OK.historyManager.navigateOnHistory(e);}return{shown:function(f){a=f.getAttribute("data-keep-states").split(" ");b=f.getAttribute("data-key");e=f.getAttribute("data-history-token");document.getElementById("toolbar_back_id").addEventListener("click",c);},check:function(h){if(!b){return;}var g=h.getAttribute("data-current-state-groups");if(g){for(var f=0;f<a.length;f++){if(g.indexOf(a[f])!==-1){return;}}}if(a.indexOf(OK.getCurrentDesktopModelId())!==-1){return;}d();},hide:function(){if(b){d();}}};});