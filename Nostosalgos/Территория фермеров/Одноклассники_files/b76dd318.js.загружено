define(["OK/logger","OK/NewsFetchCoordinator"],function(b,d){function e(h,g){if(!h){return;}require(["OK/WebRTCUtils!"],function(i){if(i.isBrowserSupported()){try{var k=OK.util.parseJsonCorrected(h);if(k){require(["OK/videochat/Chat"],function(l){l.onPush(k);});}}catch(j){g&&g();}}});}function a(){d.addBlock("VCP");require(["OK/VideoChatSound"]);}function c(g){if(window.history){window.history.replaceState(null,"","/");}var h=g.getAttribute("data-notification"),i=g.getAttribute("data-alternative-link");if(!h){if(i){if(window.navigateOnUrlFromJS){navigateOnUrlFromJS(i);}}return;}e(h,function(){b.error("videochat.webpush.error");});}function f(g){e(g,function(){b.error("videochat.push.error");});}return{activatePush:a,activateWebPush:c,setNewContent:f};});