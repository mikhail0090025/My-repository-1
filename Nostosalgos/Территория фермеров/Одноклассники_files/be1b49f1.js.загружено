define("OK/AjaxNavigationLog",["OK/logger"],function(j){var d="ajaxrequestdatatime.send.time";var c;var g;var i;var f;var e=false;function l(n,o,m){g=o;i=m;c=JSON.parse(n);e=true;}function k(p){var n=100,m=2000,o;if(p<n){return 1;}if(p>m){p=m;}o=~~(p/n);return n*o;}function b(n,m){if(e){var p=a(m);if(p.length>0){j.duration(d,n,i+"_"+p,g);var o=k(n);if(o){j.success("ad","ajax_"+i+"_"+p,o);}}}}function a(n){var m=h("st.cmd",n),r=h("cmd",n);for(var q=0;q<c.length;q++){var t=c[q];if(t.indexOf("_")>-1){var p=t.split("_");var o=p[0];var s=p[1];if("*"===o&&r===s){return s;}if(m===o&&r===s){return m+"_"+r;}}else{if(m===t){return t;}}}return"";}function h(r,m){var q=m.substring(Math.max(0,m.indexOf("?")+1)).split("&");for(var n=0;n<q.length;n++){var p=q[n];var o=p.indexOf(r+"=");if(o===0){return p.substr(r.length+1);}}return"";}return{log:b,activate:function(m){if(f){return;}l(m.textContent,m.getAttribute("data-region"),m.getAttribute("data-countrycode"));f=true;},deactivate:function(){c.length=0;g="";i="";f=false;}};});define("OK/utils/screens",{apply:function(c){var b,a;if("true"===document.body.getAttribute("data-uic")){if(OK.getCurrentDesktopModelId){b=OK.getCurrentDesktopModelId();if(OK.Layers&&OK.Layers.isAnyLayerOpened()){a=b;b=OK.Layers.getTopLayerId();}if(b){c.setRequestHeader("OK-Screen",b);}if(a){c.setRequestHeader("OK-PrevScreen",a);}}}}});define("OK/utils/utils",["jquery","OK/logger","OK/AjaxNavigationLog","OK/utils/screens"],function(f,m,b,c){var k=document.getElementById("hook_Cfg_GwtExperimentsCfg");var d=k?OK.util.parseJSON(k.innerHTML):{};var e="data-";function g(q,o,p){var n=q.split(OK.navigation.SPLITER);n.forEach(function(r,s){if(p[s]){OK.hookModel.setHookContent(p[s],r);}});}function j(q,o,p,n){var s=Date.now();var r=f.ajax(q);n.xhr=r;n.fail(function(){r.abort();});r.done(function(v,x,w){b.log(Date.now()-s,q.url);if(v&&w.responseText&&v.length===0&&w.responseText.length!==0&&w.responseText!="[]"){m.error("ajax",x);m.clob("ajax",JSON.stringify({requestData:q,response:w.responseText}));}var u=w.getResponseHeader("TKN");if(u){OK.tkn.set(u);}var t=w.getResponseHeader("Redirect-Location");if(t){o(t);n.reject(w,x,"Redirect");return;}n.resolve(v,x,w);});r.fail(function(t,v,u){if(p>0){if(v=="timeout"||!q.timeout){j(q,o,--p,n);}else{setTimeout(function(){j(q,o,--p,n);},q.timeout);}}else{n.reject(t,v,u);}});return n;}function a(p,n,q){var o=q.getResponseHeader(OK.navigation.HEADER);if(o){return o.split(",");}return null;}function l(q,o){if(typeof q==="string"){q=document.getElementById(q);}var r={};for(var p=0;p<q.attributes.length;p++){var n=q.attributes[p];if(n.name.indexOf(e)==0){r[n.name.substring(e.length)]=n.value;}}if(o){q.parentNode.removeChild(q);}return r;}function h(o,n){var q={};var p=Array.prototype.slice.call(o.elements);if(n){p=p.filter(n);}p.forEach(function(s){var r=s.name;if(r){if(s.type==="checkbox"){q[r]=s.checked?"on":"off";}else{q[r]=s.value;}}});return q;}function i(o){var n=o?o.replace(/<!--/ig,"").replace(/-->/ig,""):null;return n?JSON.parse(n):null;}return{ajax:function(o,n,q){if(arguments.length>1){if(typeof arguments[1]!=="function"){q=n;n=undefined;}}q=q||0;n=n||function(s){if(OK.navigation.redirect){OK.navigation.redirect(s);}else{document.location.href=decodeURIComponent(s);}};var r=o.data||{};var p=o.beforeSend;o.type=o.type||"POST";if(o.type==="POST"&&o.contentType&&o.contentType.indexOf("application/json")!=-1){if(typeof r!=="string"){r=JSON.stringify(r);}}else{r["gwt.requested"]=window.pageCtx.gwtHash;}o.data=r;o.beforeSend=function(t,s){t.setRequestHeader("TKN",OK.tkn.get());c.apply(t);if(p){p.apply(this,arguments);}};return j(o,n,q,f.Deferred());},getBlockIds:a,updateBlockModelCallback:function(p,n,q){var o=a(p,n,q);if(o){g(p,n,o);}},updateBlocks:g,gwtExperimentsCfg:d,removeTags:function(n){return typeof n==="string"?n.replace(/<[^>]*>/g,""):n;},isElementInViewport:function(n){var o=n.getBoundingClientRect();if(o.top<0||o.left<0||o.bottom>window.innerHeight||o.right>window.innerWidth){return false;}var q=(o.right+o.left)/2,p=(o.bottom+o.top)/2;return(n.contains(document.elementFromPoint(q,o.top))||n.contains(document.elementFromPoint(o.right,p))||n.contains(document.elementFromPoint(q,o.bottom))||n.contains(document.elementFromPoint(o.left,p)));},isElementPartiallyInViewport:function(r,o){if(!o){return this.isElementInViewport(r);}var s=r.getBoundingClientRect(),n=Math.min(s.bottom,window.innerHeight)-Math.max(0,s.top),p=Math.min(s.right,window.innerWidth)-Math.max(0,s.left),q=r.offsetHeight,t=r.offsetWidth;return q*o<=n&&t*o<=p;},extendDeep:function(n){n=n||{};for(var p=1;p<arguments.length;p++){var q=arguments[p];if(!q){continue;}for(var o in q){if(q.hasOwnProperty(o)){if(typeof q[o]==="object"&&!Array.isArray(q[o])){n[o]=this.extendDeep(n[o],q[o]);}else{n[o]=q[o];}}}}return n;},urlBase64ToUint8Array:function(t){var r=q("=",(4-t.length%4)%4);var n=(t+r).replace(/\-/g,"+").replace(/_/g,"/");var s=window.atob(n);var p=new Uint8Array(s.length);for(var o=0;o<s.length;++o){p[o]=s.charCodeAt(o);}return p;function q(v,w){var u="";while(w-->0){u+=v;}return u;}},deferred:function(){var o,n;return{promise:new Promise(function(q,p){o=q;n=p;}),resolve:o,reject:n};},getAttributesFromElement:l,getFormData:h,parseJson:i};});define("OK/utils/vanilla",["OK/AjaxNavigationLog","OK/utils/screens"],function(e,b){function o(r){var p=[],t=function(u,v){p.push(encodeURIComponent(u)+"="+encodeURIComponent(v));};for(var q in r){if(r.hasOwnProperty(q)){var s=r[q];if(Array.isArray(s)){s.forEach(t.bind(null,q));}else{t(q,r[q]);}}}return p.join("&");}function n(p){var t={},r=p&&p.indexOf("?");if(r>-1){var s=p.substr(r+1),q=s.split("&");q.forEach(function(v){if(v.indexOf("=")>-1){var u=v.split("="),w=u[0],x=u[1];x=decodeURIComponent(x.replace(/\+/g,"%20"));t[w]=x;}});}return t;}function l(u,p){var y=u.type||"POST",w=u.data||{},r=u.url||"",q=/^(https?:)?\/\//.test(r),x={xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},t=u.headers||{},s={},z=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,B=u.beforeOpen,A=new XMLHttpRequest();if(!p){p=function(D){if(OK.navigation.redirect){OK.navigation.redirect(D);}else{document.location.href=decodeURIComponent(D);}};}if((y==="POST")&&(typeof w!=="string")){if(u.isFileUpload){t["Content-Type"]="application/octet-stream";var v=(w.name||"1.jpg").replace(/[^\u0000-\u007F]+/gi,"_").substring(0,255);t["Content-Disposition"]='attachment; filename="'+v+'"';}else{t["Content-Type"]="application/x-www-form-urlencoded";if(window.pageCtx.gwtHash){w["gwt.requested"]=window.pageCtx.gwtHash;}w=o(w);}}if(u.contentType&&x.hasOwnProperty(u.contentType)&&!t.hasOwnProperty("Content-Type")){t["Content-Type"]=x[u.contentType];}if(u.dataType&&x.hasOwnProperty(u.dataType)&&!t.hasOwnProperty("Accept")){t.Accept=u.dataType==="*"?x[u.dataType]:x[u.dataType]+", */*; q=0.01";}if(!q&&!t.hasOwnProperty("TKN")){t.TKN=OK.tkn.get();}var C=new Promise(function(F,E){var D=Date.now();if(B){B({xhr:A});}A.open(y,r,true);for(var G in t){if(t.hasOwnProperty(G)){A.setRequestHeader(G,t[G]);}}if(!q){b.apply(A);}A.onreadystatechange=function(){if(A.readyState===XMLHttpRequest.HEADERS_RECEIVED){var K=A.getAllResponseHeaders(),I;while(I=z.exec(K)){s[I[1].toLowerCase()]=I[2];}if(!q&&s["redirect-location"]){p(s["redirect-location"]);E(A,A.statusText,"Redirect");return;}}if(A.readyState!==XMLHttpRequest.DONE){return;}if(A.status>=200&&A.status<300||A.status===304){e.log(Date.now()-D,r);var H=A.responseText,L=H;if(u.dataType==="json"){try{L=JSON.parse(H);}catch(J){E(J);}}if(!q&&s.tkn){OK.tkn.set(s.tkn);}F({response:L,xhr:A});}else{E(A);}};A.onerror=function(){E(A);};A.send(w);});C.xhr=A;return C;}function j(p,q){return l({type:"GET",dataType:"json",url:p,data:q});}function f(q,p,r){if(!q||q.nodeType===3||q.nodeType===8){return;}var s=document.createEvent("CustomEvent");s.initCustomEvent(p,true,true,r);q.dispatchEvent(s);}function d(q){var p=document.createElement("div");p.innerText=q;return p.innerHTML;}function a(q){var p=q.getResponseHeader(OK.navigation.HEADER);if(p){return p.split(",");}return null;}function i(r,q){var p=r.split(OK.navigation.SPLITER);p.forEach(function(s,t){if(q[t]){OK.hookModel.setHookContent(q[t],s);}});}function h(p){return p.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&apos;/g,"'");}function m(p){return p.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;");}function c(p){return p.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ");}function g(q){var p=a(q.xhr);if(p){i(q.response,p);}}function k(p){return Array.prototype.slice.apply(p.getElementsByTagName("input")).reduce(function(r,q){if(q.name){r[q.name]=q.type==="checkbox"?(q.checked?"on":"off"):q.value;}return r;},{});}return{ajax:l,getJSON:j,trigger:f,encodeHtml:d,extractParams:n,stringifyParams:o,getBlockIds:a,updateBlocks:i,updateBlockModelCallback:g,getFormData:k,unescapeXml:h,escapeXml:m,formatNumber:c};});define("OK/utils/throttle",[],function(){
/*!
     * jQuery throttle / debounce - v1.1 - 3/7/2010
     * http://benalman.com/projects/jquery-throttle-debounce-plugin/
     *
     * Copyright (c) 2010 "Cowboy" Ben Alman
     * Dual licensed under the MIT and GPL licenses.
     * http://benalman.com/about/license/
     */
return function a(c,d,h,g){var f,b=0;if(typeof d!=="boolean"){g=h;h=d;d=undefined;}return function e(){var m=this,k=Date.now()-b,l=arguments;function j(){b=Date.now();h.apply(m,l);}function i(){f=undefined;}if(g&&!f){j();}if(f){clearTimeout(f);}if(g===undefined&&k>c){j();}else{if(d!==true){f=setTimeout(g?i:j,g===undefined?c-k:c);}}};};});define("OK/utils/debounce",["OK/utils/throttle"],function(b){return function a(c,d,e){return e===undefined?b(c,d,false):b(c,e,d!==false);};});define("OK/utils/requireBlock",["OK/utils/utils"],function(a){function d(){a.ajax({url:this.getAttribute("data-url")}).done(a.updateBlockModelCallback);}function c(e){e.removeEventListener("click",d);}function b(e){e.addEventListener("click",d);}return{activate:b,deactivate:c};});define("OK/utils/dom",[],function(){function f(i,k){if(i){if(i.nodeType===11){var h=[];for(var l=0;l<i.childNodes.length;l++){var j=i.childNodes[l];if(j.getElementsByClassName){h=h.concat(Array.prototype.slice.call(j.getElementsByClassName(k)));}}return h;}return Array.prototype.slice.call(i.getElementsByClassName(k));}return[];}function g(h,i){var j=f(h,i);return j.length?j[0]:null;}function d(h,i,k,j){if(!j){h=h.parentElement;}while(h){if(!i||!h.classList||h.classList.contains(i)){return h;}if(k&&(k===h)){return null;}h=h.parentElement;}return h;}function b(i,j,l,k){if(!k){i=i.parentElement;}while(i){var h=j(i);if(h){return i;}if(l&&(l===i)){return null;}i=i.parentElement;}return i;}function e(i,h,l){var k=function(m){return m.getAttribute(h);},j=b(i,k,l,true);return j?k(j):null;}function a(i){if(!Array.isArray(i)){i=[i];}var h;i.forEach(function(j){h=j.parentNode;if(h){h.removeChild(j);}});}function c(h){var i=h.cloneNode(true);h.parentNode.replaceChild(i,h);return i;}return{byClass:f,firstByClass:g,parent:d,traverseParents:b,getParentsAttrValue:e,forEach:function(i,h){Array.prototype.slice.call(i).forEach(h);return i;},innerHeight:function(h){try{return window.getComputedStyle(h,null).getPropertyValue("height");}catch(i){return h.currentStyle.height;}},outerSize:function(k,m,i){var h;if(k.nodeName==="svg"){var l=k.getBoundingClientRect();h=m?l.width:l.height;}else{h=m?k.offsetWidth:k.offsetHeight;}if(h!==null){if(i){var j=window.getComputedStyle?window.getComputedStyle(k,null):k.currentStyle;h+=m?parseInt(j.marginLeft,10)+parseInt(j.marginRight,10):parseInt(j.marginTop,10)+parseInt(j.marginBottom,10);}return h;}return 0;},remove:a,one:function(j,i,k){j.addEventListener(i,function h(l){l.target.removeEventListener(l.type,h);return k.call(this,l);});},removeAllListeners:c};});define("OK/utils/delegate",[],function(){function c(f){this.listenerMap=[{},{}];if(f){this.root(f);}this.handle=c.prototype.handle.bind(this);}c.prototype.root=function(f){var h=this.listenerMap;var g;if(this.rootElement){for(g in h[1]){if(h[1].hasOwnProperty(g)){this.rootElement.removeEventListener(g,this.handle,true);}}for(g in h[0]){if(h[0].hasOwnProperty(g)){this.rootElement.removeEventListener(g,this.handle,false);}}}if(!f||!f.addEventListener){if(this.rootElement){delete this.rootElement;}return this;}this.rootElement=f;for(g in h[1]){if(h[1].hasOwnProperty(g)){this.rootElement.addEventListener(g,this.handle,true);}}for(g in h[0]){if(h[0].hasOwnProperty(g)){this.rootElement.addEventListener(g,this.handle,false);}}return this;};c.prototype.captureForType=function(f){return["blur","error","focus","load","resize","scroll"].indexOf(f)!==-1;};c.prototype.on=function(f,k,q,h){var n,p,m,o;if(!f){throw new TypeError("Invalid event type: "+f);}if(typeof k==="function"){h=q;q=k;k=null;}if(h===undefined){h=this.captureForType(f);}if(typeof q!=="function"){throw new TypeError("Handler must be a type of Function");}n=this.rootElement;p=this.listenerMap[h?1:0];if(!p[f]){if(n){n.addEventListener(f,this.handle,h);}p[f]=[];}if(!k){o=null;m=e.bind(this);}else{if(/^[a-z]+$/i.test(k)){o=k;m=b;}else{if(/^#[a-z0-9\-_]+$/i.test(k)){o=k.slice(1);m=a;}else{o=k;m=d;}}}var g=p[f];var l,j;var r=false;for(l=g.length-1;l>=0;l--){j=g[l];if((!k||k===j.selector)&&(!q||q===j.handler)){r=true;break;}}if(!r){g.push({selector:k,handler:q,matcher:m,matcherParam:o});}return this;};c.prototype.off=function(g,l,o,j){var m,k,n,h,f;if(typeof l==="function"){j=o;o=l;l=null;}if(j===undefined){this.off(g,l,o,true);this.off(g,l,o,false);return this;}n=this.listenerMap[j?1:0];if(!g){for(f in n){if(n.hasOwnProperty(f)){this.off(f,l,o);}}return this;}h=n[g];if(!h||!h.length){return this;}for(m=h.length-1;m>=0;m--){k=h[m];if((!l||l===k.selector)&&(!o||o===k.handler)){h.splice(m,1);}}if(!h.length){delete n[g];if(this.rootElement){this.rootElement.removeEventListener(g,this.handle,j);}}return this;};c.prototype.handle=function(f){var n,k,p=f.type,q,r,j,m,g=[],o,h="ftLabsDelegateIgnore";if(f[h]===true){return;}o=f.target;if(o.nodeType===3){o=o.parentNode;}q=this.rootElement;r=f.eventPhase||(f.target!==f.currentTarget?3:2);switch(r){case 1:g=this.listenerMap[1][p];break;case 2:if(this.listenerMap[0]&&this.listenerMap[0][p]){g=g.concat(this.listenerMap[0][p]);}if(this.listenerMap[1]&&this.listenerMap[1][p]){g=g.concat(this.listenerMap[1][p]);}break;case 3:g=this.listenerMap[0][p];break;}k=g.length;while(o&&k){for(n=0;n<k;n++){j=g[n];if(!j){break;}if(j.matcher.call(o,j.matcherParam,o)){m=this.fire(f,o,j);}if(m===false){f[h]=true;f.preventDefault();return;}}if(o===q){break;}k=g.length;o=o.parentElement;}};c.prototype.fire=function(f,h,g){return g.handler.call(h,f,h);};var d=(function(f){if(!f){return;}var g=f.prototype;return(g.matches||g.matchesSelector||g.webkitMatchesSelector||g.mozMatchesSelector||g.msMatchesSelector||g.oMatchesSelector);}(Element));function b(g,f){return g.toLowerCase()===f.tagName.toLowerCase();}function e(f,g){if(this.rootElement===window){return g===document;}return this.rootElement===g;}function a(g,f){return g===f.id;}c.prototype.destroy=function(){this.off();this.root();};return c;});define("OK/utils/StyleSheet",[],function(){function a(){this.style=document.createElement("style");document.head.appendChild(this.style);this.sheet=this.style.sheet?this.style.sheet:this.style.styleSheet;}a.prototype={set:function(b){var d=this.sheet;for(var c=0;c<b.length;c++){d.insertRule(b[c].el+"{"+b[c].style.join(";")+"}",0);}},clear:function(){var b=this.sheet,c=b.cssRules?b.cssRules:b.rules;while(c.length>0){b.deleteRule(0);}},destroy:function(){this.clear();document.head.removeChild(this.style);this.sheet=null;this.style=null;}};return a;});define("OK/cookie",[],function(){return{setCookie:function(c,d,a,e){var f="",b;if(a){a=a*1000*60*60*24;b=new Date();b.setTime(b.getTime()+(a));f=";expires="+b.toUTCString();}document.cookie=c+"="+encodeURIComponent(d)+f+((e)?";path="+e:"");},readCookie:function(b){var e=b+"=";var a=document.cookie.split(";");for(var d=0;d<a.length;d++){var f=a[d];while(f.charAt(0)==" "){f=f.substring(1,f.length);}if(f.indexOf(e)==0){return f.substring(e.length,f.length);}}return null;},clearCookie:function(a,b){this.setCookie(a,"",0,b);}};});define("OK/LogClicks",["OK/logger","OK/utils/dom"],function(q,h){var j="data-l",m="data-log-click",o="["+j+"],["+m+"]",p="data-force",f="click",i="log.click";function e(r,s,t){if(s&&Object.keys(s).length){r.push(s);if(s.target&&!t.okTarget){t.okTarget=s.target;}}}function l(r){OK.logging.info(f+" "+r);q.success(f,r);}function a(r){OK.logging.info(f+" "+r);q.force(f,r);}function n(r){OK.logging.alert(i+" "+r);q.error(i,r);}function c(s){if(!s){return null;}var r=s.getAttribute(j);if(!r){r=s.getAttribute(m);}return r;}var b={t:"target",ti:"targetId",mB:"mtBlockType",gA:"groupActionType",fF:"feedFeatures",fP:"feedPosition",fL:"feedLocation",fD:"feedDetails",fO:"feedOwners",fI:"feedId",".r":"remove",rM:"removeMenu",".c":"content",".k":"comment",re:"reshare",".l":"like",e1:"entity1",e2:"entity2",uL:"userLink",gL:"groupLink",".a":"action"};function k(w){var t=-2;try{if(!w||w.length==0||/^{|^null&/i.test(w)){t=-1;return JSON.parse(w);}t=0;var E={};var y=false;var A=true;var D="";var C="";var x="";var u=w.length;var r=0;var s=0;for(var v=0;v<u;v++){t=1;var B=w.charAt(v);if(y){y=false;s++;}else{if(B=="\\"){if(s>0){if(A){t=2;D+=w.substr(r,s);}else{t=3;C+=w.substr(r,s);}s=0;}r=v+1;y=true;}else{if(B==","){if(A){if(s>0){t=4;D+=w.substr(r,s);s=0;}A=false;}else{if(s>0){t=5;C+=w.substr(r,s);s=0;}A=true;x=b[D];if(x){D=x;}x=b[C];if(x){C=x;}E[D]=C;D="";C="";}r=v+1;}else{s++;}}}}t=6;if(y){n("err: escapeNow - "+w);}else{if(A){if(r!=u){n("err: keyNow - "+w);}}else{if(r<u){t=7;C+=w.substr(r);}x=b[D];if(x){D=x;}x=b[C];if(x){C=x;}E[D]=C;}}return E;}catch(z){n("unkn err: stepN = "+t+", data = "+w+", e = "+z);return{};}}function d(w){var s,u=false,r=[];try{s=c(w.target);if(s){e(r,k(s),w);}var v=w.target.parentElement;while(v){if(v.matches(o)){s=c(v);if(s){e(r,k(s),w);}}if(v.hasAttribute(p)){u=true;}v=v.parentElement;}if(r.length){if(u){a(JSON.stringify(r));}else{l(JSON.stringify(r));}}}catch(t){n(t);}}function g(r){r.addEventListener("click",d,true);OK.clickLog.incCounter();}return{activate:g,getLogDataAsString:c,parseLogData:k,getLogData:function(s){var r=c(s);if(r){return k(r);}},updateLogData:function(r,s){var u=j;if(r.getAttribute(m)){u=m;}var t=JSON.stringify(s);r.setAttribute(u,t);},copyLogData:function(t,s){var r=j;if(t.getAttribute(m)){r=m;}s.setAttribute(r,t.getAttribute(r));},getClosestLogClickElement:function(r){if(r.matches(o)){return r;}else{return h.traverseParents(r,function(s){return s.matches(o);});}},doLogOnElement:function(r){d({target:r});},LOG_ATTR_SELECTOR:o};});define("OK/NewsFetchCoordinator",["OK/logger","OK/cookie"],function(J,Q){var ab="/push?cmd=PeriodicManager&gwt.requested="+window.pageCtx.gwtHash,aG="p_sId",b="p_NLP",D="<!--SP-->",f="<!--SSP-->",aF=0,F=1,H=2,Z="TZD",aC="TZ",at="TD",e=30,ae={responseText:"",open:function(){},setRequestHeader:function(){},send:function(){},abort:function(){},getResponseHeader:function(){}},ao={pos:0,size:0,adaptive:0,tmzOffset:0,sum:0,values:[],updateDiff:function(aL){var aK=new Date(),aJ;var aM=aK.getTime()-aL;this.tmzOffset=-aK.getTimezoneOffset();this.values[this.pos++]=aM;this.pos%=20;this.sum+=aM;if(this.size<20){this.size++;}else{this.sum-=this.values[this.pos];}aJ=~~(this.sum/this.size);if(this.adaptive!==aJ){this.adaptive=aJ;return true;}return false;},getTimeZoneHh:function(){var aJ=~~(this.tmzOffset/e);if(aJ<-24||aJ>28){J.error("NFCI_TZ");}return aJ;},getTimeDiff:function(){if(isNaN(this.adaptive)){J.error("NFCI_TD");}return this.adaptive;}},G=100,o=5000,ad=0,a=0,w=false,aw=2097152,y=2,d=[],u=0,an=150000,s=180000,E=180000,k=0,ak=60000,p=180000,av={},aj=[],X=null,aq=null,aE=null,R=false,al=ae,au=0,am=0,I=aF,i=0,n=0,ay=0,U=0,aH="",C=0,r="LP",m,Y,A,L,B,aD=false,x=false,j=function(){try{return new window.XMLHttpRequest();}catch(aK){J.success("push","xhr");try{return new window.ActiveXObject("Microsoft.XMLHTTP");}catch(aJ){J.error("NFCI_AXO");return ae;}}},g=function(aJ){if(aJ>=1000){aJ=1000;}else{if(aJ>=500){aJ=500;}else{if(aJ>=100){aJ=100;}else{if(aJ>=50){aJ=50;}else{if(aJ>=10){aJ=10;}}}}}return aJ;},ar=function(aJ){try{if(ao.updateDiff(aJ)){var aK=ao.getTimeZoneHh(),aM=ao.getTimeDiff();Q.setCookie(Z,aK+"."+aM,0,"/");if(x){Q.setCookie(aC,aK,0,"/");Q.setCookie(at,aM,0,"/");}}}catch(aL){J.error("NFCI_AST");}},V=function(){var aJ="",aK;for(aK in av){if(av.hasOwnProperty(aK)){aJ+=aK+"="+av[aK]+"&";}}aJ+="blocks="+aj.join(",")+"&";return aJ+b+"="+a;},af=function(){return aG+"="+ad;},aA=function(){if(R||!ax()){q(o);}},M=function(){if(r==="SSE"){var aK=Date.now();var aJ=I===aF?ak:p;if(aK-aJ<au){p=aB();aE=setTimeout(M,p);return;}if(I===aF){N("Restore connection");J.success("push","restoresse");}if(aD||!S(al.responseText||"")){l("heartbeat-sse-"+aH+n);J.success("push","chunks",n+"_"+g(ay));J.success("push","chunks-all",n+"_"+g(U));if(++n>=y){r="LP";am=aK;}ai(G);}else{aD=true;X=setTimeout(t,0);aE=setTimeout(M,E);J.success("push","check");}}else{R=false;ad=0;l("heartbeat-lp");c(G);}},q=function(aJ){clearTimeout(aq);aq=setTimeout(aA,aJ);},t=function(){if(I!==aF){if(al.readyState===3){ag();}X=setTimeout(t,1000);}},c=function(aJ){G=aJ;q(G);},az=function(){clearTimeout(aq);aq=null;clearTimeout(aE);aE=null;R=false;if(I!==aF){l("stop-sse");}K();},ai=function(aJ){R=false;if(aq){q(aJ);}},aB=function(){return r==="SSE"?(ad==0?s:E):an;},ax=function(){try{N("send");if(r==="LP"&&k>0&&U>2&&w&&Date.now()-am>k){C++;J.success("push","recovery",C+"-"+g(U));aD=false;n=0;ad=0;r="SSE";}var aJ=r==="SSE";if(m){if(m()){return false;}}else{J.error("NFCI_ER","foe-udf");}clearTimeout(aE);p=aB();aE=setTimeout(M,p);R=true;if(Y){P(aJ);}else{J.error("NFCI_ER","prc-udf");ai(o);}}catch(aK){R=false;J.error("NFCI_ER","trc");return false;}return true;},P=function(aJ){al=j();al.open("POST",ab+(aJ?"&sse=true":"")+"&"+af(),true);al.setRequestHeader("Content-Type","application/x-www-form-urlencoded");al.setRequestHeader("Cache-Control","no-cache");al.setRequestHeader("TKN",OK.tkn.get());if(aJ){al.onreadystatechange=al.onprogress=ag;i=0;ay=0;I=F;}else{al.onreadystatechange=ah;}al.send(V());if(aJ&&aD){clearTimeout(X);X=setTimeout(t,0);}},ah=function(){if(al.readyState!==4){return;}if(al.status===200){if(O(al.getResponseHeader("Redirect-Location"))){J.success("push","redirect");ai(o);return;}z(al);ai(G);}else{J.success("push","status",""+al.status);ai(o);}},z=function(aL){var aJ=OK.lss&&OK.lss.isMaster(),aK=""+[aJ?OK.lss.getId():"",aL.responseText,aL.getResponseHeader("Rendered-Blocks"),aL.getResponseHeader("TKN")].join(D);if(aJ){T(aK);}Y(aK,false);},ag=function(){if(al.readyState<3){return;}if(I===F){if(al.status===200){if(O(al.getResponseHeader("Redirect-Location"))){l("redirect-sse");ai(o);return;}I=H;}else{l("status-sse-"+al.status);ai(o);}}else{if(I===H){switch(al.readyState){case 3:S(al.responseText||"");break;case 4:var aJ=G;if(al.status===0){aJ=o;}else{if(!S(al.responseText||"")&&al.getResponseHeader("Rendered-Blocks")){z(al);}}I=aF;ai(aJ);break;}}}},S=function(aM){var aN,aL,aJ,aK=false;while(~(aN=aM.indexOf(f,i))){aL=aM.substring(i,aN);if(aL){aJ=OK.lss&&OK.lss.isMaster();aL=""+[aJ?OK.lss.getId():"",aL].join(D);if(aJ){T(aL);}Y(aL,false);}i=aN+f.length;au=Date.now();aK=true;if(ay<1000){ay++;}if(U<1000){U++;}n=0;}if(i>aw){J.success("push","overflow");}return aK;},T=function(aM){try{localStorage.setItem("firePushContent",aM);}catch(aN){if(A){A();}else{J.error("NFCI_ER","dop-udf");}try{var aP=aN.message||"";var aJ=aM.length,aR="pushData";for(var aQ in localStorage){if(localStorage.hasOwnProperty(aQ)){var aL=localStorage.getItem(aQ).length;aP+="\n"+aQ+"="+aL;if(aL>aJ){aJ=aL;aR=aQ;}}}var aK=aJ;if(aK>3000000){aK=3000000;}else{if(aK>2000000){aK=2000000;}else{if(aK>1000000){aK=1000000;}else{if(aK>500000){aK=500000;}else{if(aK>100000){aK=100000;}else{if(aK>10000){aK=10000;}else{aK=1000;}}}}}}J.clob("push",aP,"NFCI_LSIS_"+aR,""+aK);}catch(aO){J.clob("push",aO.stack,"NFCI_LSISE");}}},l=function(aJ){if(r==="SSE"){I=aF;ad=0;}al.abort();J.success("push","abort",aJ);},O=function(aJ){if(aJ){if(OK.navigation.redirect){OK.navigation.redirect(aJ);}else{document.location.href=decodeURIComponent(aJ);}return true;}return false;},v=0,ap=0,W=0,h=null,aa=function(){var aJ=Date.now();if(v!=0&&aJ-v>ap){if(aE){clearTimeout(aE);aE=setTimeout(M,100);N("wakeup");}}if(v!=0&&!aE&&r==="SSE"){if(aJ-p>au){if(!m||!m()){J.success("push","noconnection");}}}v=aJ;},aI=function(aJ,aK){if(aJ>0&&OK.lss&&OK.lss.isMaster()){if(aJ!=W||!h){K();h=setInterval(aa,aJ);}}else{K();}W=aJ;ap=aK;},K=function(){if(h){clearInterval(h);h=null;}},ac=function(){var aJ=Q.readCookie("dme");return(aJ&&("true"===aJ.toLowerCase()))||document.getElementById("__gwtd__m");},N=function(aJ){if(ac()&&console){console.log(new Date(),aJ);}};return{isMaster:function(){return OK.lss&&OK.lss.isMaster();},getClientServerTimeDiff:function(){return ao.adaptive;},getCurrentServerTime:function(){return Date.now()-this.getClientServerTimeDiff();},updateParam:function(aJ,aK){av[aJ]=aK;},addBlock:function(aJ){aj.push(aJ);if(L){L();}for(var aK=0;aK<d.length;aK++){if(aJ===d[aK]){return;}}if(r==="SSE"){l("upd-block-"+aJ);ai(G);}},removeBlock:function(aK){var aJ=aj.indexOf(aK);if(aJ>-1){aj.splice(aJ,1);}},setConfiguration:function(aJ){var aM,aL;ad=aJ[aG]||ad;a=aJ[b]||a;an=aJ.p_LPR||150000;G=aJ.fetchTime||100;o=aJ.p_DFF||5000;aw=aJ.p_PSB||2097152;E=aJ.p_SRT||180000;s=aJ.p_SFRRT||180000;k=aJ.p_SLPT||0;y=aJ.p_SMF||2;ak=aJ.p_SWT||60000;x=aJ.sTZDc===true;d=(aJ.cBlocks||"").split(",");p=aB();aM=aJ.p_PSE===true;if(w!==aM){n=0;au=0;if(w&&I!==aF){az();r="LP";c(G);}w=aM;r=w?"SSE":"LP";}if(aJ.serverTime){ar(aJ.serverTime);}aL=aJ.p_CES||0;if(aL!==u){u=aL;B(u);}aI(aJ.p_WDI||0,aJ.p_WDTL||120000);var aK=aJ.params;if(aK){var aN;for(aN in aK){if(aK.hasOwnProperty(aN)){av[aN]=aK[aN];}}}},init:function(aK,aN,aL,aJ,aM){m=aK;Y=aN;A=aL;L=aJ;B=aM;aD=false;},getStateParamString:af,scheduleFetch:function(){ad=0;c(G);aI(W,ap);},stopScheduling:az};});define("OK/CommentWidgets",["OK/utils/dom"],function(d){var c={};var b=function(g,f){return f+"_"+g;},a=function(h,f){f=parseInt(f,10);if(isNaN(f)){return;}if(c[h]&&c[h]["count"]!==f){var g=c[h]["elements"];if(Array.isArray(g)){g.forEach(function(j){var i=d.firstByClass(j,"js-count");if(i){var k=d.parent(j,"widget");k.classList.toggle("__null",f<1);i.classList.toggle("__empty",f<1);var l=c[h]["maxCount"];if(l&&f>l){i.textContent=l+"+";}else{i.textContent=f;}}});}c[h]["count"]=f;}},e;return{setOpenDiscussionFn:function(f){e=f;},updateCount:function(j,h,i){i=parseInt(i,10);var g=b(j,h);if(c[g]){var f=c[g]["count"];if(f!==undefined&&!isNaN(f)){a(g,f+i);}}},setCount:function(f,i,h){h=parseInt(h,10);var g=b(f,i);a(g,h);},add:function(g,k,j){var i=b(g,k);var f=d.firstByClass(j,"js-count");if(j&&f){if(!c[i]){c[i]={maxCount:f.getAttribute("data-maxCount")||Infinity,elements:[]};}var l=f.textContent.replace(/\s/g,"");if(!isNaN(+l)){var h=parseInt(l,10);if(!isNaN(h)){c[i].elements&&c[i].elements.push(j);c[i].count=h;}}}},remove:function(f,l,i){var h=b(f,l),k=c[h];if(k&&i){var j=k.elements,g=j?j.indexOf(i):-1;if(g>-1){j.splice(g,1);j.length===0&&delete c[h];}}},clickHandler:function(h){h.preventDefault();if(e){var i=parseInt(this.getAttribute("data-id"),10),g=parseInt(this.getAttribute("data-type"),10),f=this.getAttribute("data-location");e(i,g,f);}},activate:function(g){if(g){var i=parseInt(g.getAttribute("data-id"),10),h=parseInt(g.getAttribute("data-type"),10),f=g.getAttribute("data-bind")!=="false";this.add(i,h,g);if(f){g.addEventListener("click",this.clickHandler);}}},deactivate:function(f){if(f){f.removeEventListener("click",this.clickHandler);this.remove(parseInt(f.getAttribute("data-id"),10),parseInt(f.getAttribute("data-type"),10),f);}}};});define("OK/scrollToTop",["OK/utils/dom","OK/utils/throttle"],function(d,l){var o="__bottom",e="__hidden",a="__active",i="__animated",m="__new",n="data-height",f="data-activate-height",k="data-container",h="data-check-up",j="data-max-pause";function g(){this.button=null;this.container=null;}g.prototype.activate=function c(p){this.button=p;this.showBottom=this.button.hasAttribute(k);this.container=this.showBottom?document.getElementById(this.button.getAttribute(k)):window;if(!this.container){return;}this.scrollToTopHeight=parseInt(this.button.getAttribute(n)||0,10);this.activateHeight=parseInt(this.button.getAttribute(f)||500,10);this.scrollToBottomHeight=this.scrollToTopHeight;this.isBottom=this.button.classList.contains(o);this.link=d.firstByClass(this.button,"scroll-arrow_lk");this.newOnScrollUp=parseInt(this.button.getAttribute(h)||0,10);this.pauseToNew=parseInt(p.getAttribute(j)||0,10);this.onScrollSeenTimer=null;this.scrollStartTime=0;this.lastScrollTopPosition=0;this.boundClickHandler=this.onClick.bind(this);this.boundMouseEnterHandler=this.onMouseEnter.bind(this);this.boundMouseLeaveHandler=this.onMouseLeave.bind(this);this.boundScrollHandler=l(10,this.onScroll.bind(this));this.boundHide=this.hide.bind(this);this.boundHighlightNew=this.highlightNew.bind(this);this.button.addEventListener("click",this.boundClickHandler);this.button.addEventListener("mouseenter",this.boundMouseEnterHandler);this.button.addEventListener("mouseleave",this.boundMouseLeaveHandler);this.button.addEventListener("hideScrollElement",this.boundHide);this.container.addEventListener("scroll",this.boundScrollHandler);};g.prototype.deactivate=function b(){this.button.classList.remove(a,i);if(!this.container){return;}clearTimeout(this.onScrollSeenTimer);this.button.addEventListener("click",this.boundClickHandler);this.button.addEventListener("mouseenter",this.boundMouseEnterHandler);this.button.addEventListener("mouseleave",this.boundMouseLeaveHandler);this.button.addEventListener("hideScrollElement",this.boundHide);this.button=null;this.container.removeEventListener("scroll",this.boundScrollHandler);};g.prototype.getScrollTop=function(){return this.container===window?window.pageYOffset:this.container.scrollTop;};g.prototype.setScrollTop=function(p){if(this.container===window){window.scrollTo(0,p);}else{this.container.scrollTop=p;}};g.prototype.onMouseEnter=function(){if(this.isBottom&&this.getScrollTop()>=this.scrollToTopHeight){this.button.classList.remove(e);}};g.prototype.onMouseLeave=function(){if(this.isBottom){this.button.classList.add(e);}};g.prototype.highlightNew=function(){this.button.classList.add(m);};g.prototype.onScroll=function(){var q=this.getScrollTop();var p=Date.now();if(this.scrollStartTime&&this.newOnScrollUp&&this.scrollStartTime+this.newOnScrollUp<p){if(this.newOnScrollUp&&this.lastScrollTopPosition>q){this.highlightNew();}}else{if(!this.scrollStartTime&&this.newOnScrollUp){this.scrollStartTime=p;}}this.lastScrollTopPosition=q;if(this.onScrollSeenTimer){clearTimeout(this.onScrollSeenTimer);}if(this.pauseToNew){this.onScrollSeenTimer=setTimeout(this.boundHighlightNew,this.pauseToNew);}if(q>this.activateHeight+50){this.button.classList.remove(o,e);this.button.classList.add(a,i);this.isBottom=false;}else{if(q<this.activateHeight&&!this.isBottom){this.hide();}}};g.prototype.hide=function(){this.button.classList.remove(a);};g.prototype.onClick=function(p){if(this.isBottom){this.setScrollTop(this.scrollToBottomHeight);this.button.classList.remove(o);this.isBottom=false;}else{this.scrollToBottomHeight=this.getScrollTop();this.setScrollTop(this.scrollToTopHeight);if(this.showBottom){this.button.classList.add(o);this.isBottom=true;}}this.onScroll();if(this.button.classList.contains(m)&&this.link){this.link.click();}return OK.stop(p);};return g;});define("OK/mrg/projects",[],function(){var b="x-ph__menu_open",d="x-ph__menu_open_right",f="x-ph__menu_open_left",e,a;function c(){var g=this;this.toggleMenu=function(h){h.stopPropagation();clearTimeout(a);a=null;if(g.box.classList.contains(b)){g.hideMenu();}else{g.showMenu();}};this.hideMenu=function(){document.removeEventListener("click",g.hideMenu);g.box.classList.remove(b);g.box.classList.remove(d);g.box.classList.remove(f);};this.showMenu=function(){document.addEventListener("click",g.hideMenu);g.box.classList.add(b);if(document.documentElement.clientWidth<1200&&e.clientWidth>600){g.box.classList.add(d);}else{g.box.classList.add(f);}};this.onMouseOver=function(){clearTimeout(a);a=null;};this.onMouseOut=function(){clearTimeout(a);a=setTimeout(g.hideMenu,4000);};}c.prototype={activate:function(h){var g=this;this.link=h.querySelector(".portal-headline__menulink");this.menu=h.querySelector(".portal-headline__menu");this.box=h;e=document.getElementsByClassName("portal-headline__left")[0];if(this.link===null||this.menu===null||this.box===null){return;}this.link.addEventListener("click",g.toggleMenu,false);this.link.addEventListener("mouseout",g.onMouseOut,false);this.link.addEventListener("mouseover",g.onMouseOver,false);this.menu.addEventListener("mouseout",g.onMouseOut,false);this.menu.addEventListener("mouseover",g.onMouseOver,false);},deactivate:function(){var g=this;if(this.link){this.link.removeEventListener("click",g.toggleMenu,false);this.link.removeEventListener("mouseout",g.onMouseOut,false);this.link.removeEventListener("mouseover",g.onMouseOut,false);}if(this.menu){this.menu.removeEventListener("mouseout",g.onMouseOut,false);this.menu.removeEventListener("mouseover",g.onMouseOver,false);}this.link=this.menu=this.box=null;}};return c;});define("OK/mrg/Updater",["OK/utils/dom"],function(d){var a="x-ph__link_ext",b=document.head||document.getElementsByTagName("head")[0];function c(){this.counterStorage={};}c.prototype.createCounter=function(h,j){var k=Number(h.getAttribute("data-timeout"));var e=h.getAttribute("data-selector");var g=h.getAttribute("data-name");var f=h.getAttribute("data-url");if(f&&k>0){var i=d.byClass(h,e);if(this.counterStorage.hasOwnProperty(g)){this.counterStorage[g].counters=this.counterStorage[g].counters.concat(i);}else{this.counterStorage[g]={extract:j,counters:i,url:f,script:null,timer:null};window[g]=this.process.bind(this,g);}this.update(g);if(!this.counterStorage[g].timer){this.counterStorage[g].timer=setInterval(this.update.bind(this,g),k);}}};c.prototype.removeCounter=function(g){var f=g.getAttribute("data-name");var e=g.getAttribute("data-selector");var h=d.byClass(g,e);if(this.counterStorage.hasOwnProperty(f)){var i=this.counterStorage[f];h.forEach(function(j){var k=i.counters.indexOf(j);if(k!==-1){i.counters.splice(k,1);}});if(!i.counters.length){if(i.timer){clearInterval(i.timer);i.timer=null;}if(i.script){b.removeChild(i.script);i.script=null;}}}};c.prototype.update=function(f){var g=this.counterStorage[f];var e=document.createElement("script");e.type="text/javascript";e.src=g.url+"&JSONP_call="+f+"&rnd="+Math.random();if(g.script){b.removeChild(g.script);}b.appendChild(e);g.script=e;};c.prototype.process=function(e,h){var f=this.counterStorage[e].counters;var g=this.counterStorage[e].extract;f.slice().forEach(function(i){var j=g(h,i)||"";i.parentNode.classList.toggle(a,!!j);i.textContent=j;});};return new c();});define("OK/mrg/counters",["OK/mrg/Updater"],function(d){function b(g,e){var f=e.getAttribute("data-cnt");if(g&&g.status==="ok"&&g.data&&g.data[f]&&(g.data[f]>0||g.data[f]==="99+")){return g.data[f];}}function a(e){d.createCounter(e,b);}function c(e){d.removeCounter(e);}return{activate:a,deactivate:c};});define("OK/mrg/wamba",["OK/mrg/Updater"],function(d){function b(e){if(e&&e.counter){return e.counter;}}function a(e){d.createCounter(e,b);}function c(e){d.removeCounter(e);}return{activate:a,deactivate:c};});define("OK/HookModel",["OK/utils/utils"],function(a){var b={},c=a.deferred();return{init:function(d){c.resolve(d);},hookActivated:function(e){var d=b[e],g,f,h=new Promise(function(l,k){var j=OK.hookModel.getHookById(e);if(j){var i=j.getInstance?j.getInstance():undefined;l(i);return;}g=l;f=k;});if(g&&f){h.resolve=g;h.reject=f;if(!d||!d.length){d=[];b[e]=d;}d.push(h);}return h;},removeObserver:function(g,d){var f=b[d];if(f&&f.length){var e=f.indexOf(g);if(e!=-1){f.splice(e,1);}}},activatedCallback:function(e,d){var f=b[e];if(f){delete b[e];f.forEach(function(g){g.resolve(d);});}},extractHookId:function(d){return d.substring(d.lastIndexOf("_")+1);},createHook:function(e,d){return c.promise.then(function(f){f.createHook(e,d);});}};});define("OK/ToolbarBubble",[],function(){var n={},b="notifications__hide",s="notifications__blink",l="notifications__reply",t="notifications__emptySmall",d=99,h=300,p=d+"+";function k(v,u){v.classList.add(u);}function m(v,u){v.classList.remove(u);}function a(v,u){return v.classList.contains(u);}function g(u){if(u>d){return p;}if(u<=0){return"";}return String(u);}function r(u,v){if(v){k(u,l);m(u,b);}if(!v){m(u,l);}}function j(v){var u=document.getElementById(v);return u?new f(u):null;}function i(v){var u=n[v];if(!u){u=j(v);if(!u){return null;}n[v]=u;}return u;}function q(v){var u=n[v];if(u){delete n[v];}}function e(u){var v=u.getAttribute("id");if(v){i(v);}}function c(u){var v=u.getAttribute("id");if(v){q(v);}}function o(u){return u.classList.contains(l)||u.classList.contains(t);}function f(u){this.bubbleElement=u;this.textElement=u.children[0]||u;this.val=(this.textElement.innerHTML&&parseInt(this.textElement.innerHTML,10))||0;}f.prototype={hide:function(){this.update(0);},decrease:function(u){this.update(this.val-u);},resetCustomIcon:function(){var u=this.bubbleElement;m(u,l);m(u,t);if(!this.val){k(u,b);}},update:function(y){y=(y<0)?0:y;this.val=y;var x=g(y),w=this.bubbleElement,u=this.textElement;if(!x){if(!o(w)){k(w,b);}u.innerHTML="";}else{var v=u.innerHTML;if(v!==x){u.innerHTML=x;if(!a(w,b)){k(w,s);setTimeout(function(){m(w,s);},h);}else{m(w,b);m(w,t);}}}},showSmall:function(){m(this.bubbleElement,b);k(this.bubbleElement,t);},resolveCustomIcon:function(u,v){r(this.bubbleElement,v);this.update(u);},getCount:function(){return this.val;},hasReply:function(){return a(this.bubbleElement,l);},hasBubble:function(){return this.hasReply()||this.getCount()>0;}};return{wrap:i,unwrap:q,create:j,activate:e,deactivate:c};});define("OK/ToolbarGrowl",["OK/logger","OK/utils/dom"],function(u,s){var d="CallApplication",r="appMain",b="__active",p="growl",e="click",a="data-id",h=(function(){var v,w,y=document.createElement("bootstrap"),x={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(w in x){if(x.hasOwnProperty(w)&&y.style[w]!==undefined){v=x[w];break;}}u.success(p,"transition",v);return v;}()),n=null,m={},t=document.getElementById("msg_toolbar_button"),o=!!(t&&t.getAttribute("data-growl-add-log")),k=!!document.querySelector(".js-msg-ok"),f=!!document.querySelector(".js-msg-tt");function j(v){if(v){return parseInt(v.getAttribute("data-time"),10)||0;}return 0;}function g(){return OK.Layers&&OK.Layers.isAnyLayerOpened();}function l(){return !(g()||document.getElementById(d)||OK.getCurrentDesktopModelId()===r);}function i(w){var v=document.createElement("div");v.innerHTML=w;return v.children.length?v.children[0]:null;}function c(v){return s.firstByClass(v,"growl_close");}function q(v){this.hookId=v;this.hidden=true;this.stash=null;}q.showAny=function(){var w,v;if(n){return;}for(w in m){if(m.hasOwnProperty(w)){v=m[w];if(v.hidden){v.show();if(!v.hidden){break;}}}}};q.hideAll=function(){if(n){n.hide();}};q.destroyByLayerId=function(v){var w=m[v];if(w){w.destroy();}};q.getByLayerId=function(v){return m[v];};q.prototype={activate:function(v){this.hook=this.getContentHook();this.layerId=v.getAttribute("data-layer");this.exclusive=v.getAttribute("data-exclusive")==="true";this.priority=parseInt(v.getAttribute("data-priority"),10)||0;m[this.layerId]=this;if(this.hook){this.elem=this.hook.element.firstChild;if(this.elem){this.activateGrowl();this.id=this.elem.getAttribute(a);this.time=j(this.elem);}}this.show();},activateGrowl:function(){var v=c(this.elem);if(v){v.addEventListener(e,this);}},deactivateGrowl:function(){var v=c(this.elem);if(v){v.removeEventListener(e,this);}},show:function(){if(this.id&&l.call(this)){if(n){if(this.priority<=n.priority){return;}else{u.success(p,"replace",this.layerId);n.hide();}}this.elem.classList.add(b);this.hidden=false;n=this;u.success(p,"show",this.layerId==="music_app"?this.layerId+"-"+this.id:this.layerId);if(this.layerId==="messages"&&o){var v=f?"tt":k?"ok":"unknown";return u.success("messagesLayer","growl",v);}}},hide:function(){if(this.elem){this.elem.classList.remove(b);this.hidden=true;if(this===n){n=null;}}},destroy:function(){if(this.elem){this.deactivateGrowl();this.hide();this.id=null;this.time=null;this.elem=null;}},setNewContent:function(x){var v=this,w=i(x),z,y;if(OK.Layers&&OK.Layers.isLayerOpened(v.layerId)){u.success(p,"ignore");}else{if(w){z=w.getAttribute(a);y=j(w);if(this.exclusive&&this.id&&this.id!==z){return;}if(v.id===z&&v.time===y){u.success(p,"equal",1);return;}if(v.hidden){this.setNewGrowl(x,z,y);}else{this.stash={html:x,id:z,time:y};this.elem.addEventListener(h,this,false);v.destroy();}}else{v.destroy();q.showAny();}}},applyNewContent:function(){this.hidden=true;if(this.stash===null){OK.hookModel.setHookContent(this.getContentHookId(),"");}else{this.setNewGrowl(this.stash.html,this.stash.id,this.stash.time);u.success(p,"replace");this.stash=null;}},setNewGrowl:function(w,y,x){if(this.id===y&&this.time===x){u.success(p,"equal",2);return;}var v=this.getContentHook();OK.hookModel.setHookContent(v.id,w);this.elem=v.element.firstChild;this.id=y;this.time=x;this.activateGrowl();setTimeout(this.show.bind(this),30);},handleEvent:function(w){var v=w.type;if(v===e){if(this.time>this.crossTime){this.crossTime=this.time;}this.destroy();q.showAny();}else{if(v===h){if(w.propertyName==="opacity"){w.target.removeEventListener(h,this);this.applyNewContent();}}}},getContentHookId:function(){return this.hookId+"_Content";},getContentHook:function(){if(!this.hook){this.hook=OK.hookModel.getHookById(this.getContentHookId());}return this.hook;}};return q;});define("OK/banners/StickyBannerContainer",["OK/utils/throttle"],function(i){var h=document.documentElement.classList.contains("small-toolbar")?48:76;var b=h+12,j=12;var e={};var d;function f(l){this.hookEl=l;if(l&&l.hasChildNodes()){var k=l.getElementsByClassName("banner-sticky-container");this.bannerContainer=k.length>0?k[0]:l.firstElementChild;}this.currBannerContainerMinHeight=0;this.doReflow();}f.prototype.doReflow=function(){if(!this.bannerContainer){return;}var k=this.bannerContainer.clientHeight;if(this.currBannerContainerMinHeight!==k){this.hookEl.style.minHeight=k+"px";this.currBannerContainerMinHeight=k;}var m=this.hookEl.getBoundingClientRect();var n=m.top;if(n<=b){var o=document.getElementById("footer");var l=o.getBoundingClientRect();this.bannerContainer.style.position="fixed";if(k+b+j<l.top){this.bannerContainer.style.top=b+"px";this.bannerContainer.style.bottom="auto";}else{this.bannerContainer.style.top="auto";this.bannerContainer.style.bottom=document.documentElement.clientHeight-l.top+"px";}}else{this.bannerContainer.style.position="static";}};function c(k){if(!k||!k.id){return;}e[k.id]=new f(k);if(!d){d=i(10,g);window.addEventListener("scroll",d,false);window.addEventListener("resize",d,false);}}function g(){for(var l in e){if(!e.hasOwnProperty(l)){continue;}var k=e[l];k.doReflow();}}function a(k){if(!k||!k.id){return;}delete e[k.id];if(Object.keys(e).length===0){window.removeEventListener("scroll",d,false);window.removeEventListener("resize",d,false);d=null;}}return{activate:c,deactivate:a};});define("OK/banners/SmokescreenImgStyle",[],function(){var a=90;function b(c){this.bannerPlace=c;this.stylesheetEl=null;this.styleData=[];}b.prototype={updateStylesheet:function(d){if(!this.stylesheetEl){return;}var f=this.stylesheetEl.sheet;if(!f){return;}for(var e=f.cssRules.length-1;e>=0;e--){f.deleteRule(0);}var k="",j=this.styleData;for(e=0;e<j.length;e++){var h="b-img-"+this.bannerPlace+e,g=j[e].width,c=j[e].height;if(g>a){c=c*a/g;g=a;}k="."+d.transform(h)+" {width: "+g+"px; height: "+c+"px; background: url('"+j[e].imgSrc+"') no-repeat;} ";f.insertRule(k,e);}this.styleData=[];},registerImageStyle:function(e,d,f){var c=this.styleData.length;this.styleData.push({width:e,height:d,imgSrc:f});return c;},createStyleEl:function(){var c=document.createElement("style");this.stylesheetEl=document.head.appendChild(c);}};return b;});define("mrg-smokescreen/Utils",[],function(){var e=false;try{e=(new URL("http://example.com/")).href==="http://example.com/";}catch(c){}function h(j,i){return(Math.random()*(i-j+1)+j)|0;}var b;function d(){if(b===undefined){try{if(typeof window.getComputedStyle==="function"){var i=document.createElement("div");i.style.height="calc(30px + 30px)";document.getElementsByTagName("body")[0].appendChild(i);b=window.getComputedStyle(i,null).getPropertyValue("height")==="60px";i.parentNode.removeChild(i);}}catch(j){b=false;}}return b;}var a=function(i){return Array.prototype.slice.call(i);};var g=function(){var i=a(arguments);var j=i.shift();i.forEach(function(k){for(var l in k){j[l]=k[l];}});return j;};var f=function(){var i=a(arguments);var j=i.shift();i.forEach(function(k){for(var l in k){if(!j[l]){j[l]=k[l];}}});return j;};return{random:h,calcString:function(j,p){j=parseInt(j,10);if(d()){var n=[];var o=0;for(var m=0,k=h(1,6);m<k;m++){n.push(h(-100,100));o+=n[n.length-1];}if(o!==j){n.push(j-o);}return"calc("+n.map(function(i){return i.toString()+p;}).join(" + ")+")";}else{return j+p;}},replaceUrl:function(m,l,q){if(e&&l){var p=m.charAt(0);var k=(p==='"')||(p==="'");var n=0+k;var o;if(q){o=m.indexOf((k?p:"")+")");}else{o=k?m.indexOf(p,n+1):m.length;}var i=m.slice(n,o);try{i=(new URL(i,l)).href;}catch(j){}return m.slice(0,n)+i+m.slice(o);}else{return m;}},replaceContent:function(n){var q=n.charAt(0);var r=(q==='"')||(q==="'");var o=Number(r);var p=r?n.indexOf(q,o):n.indexOf(";",o);var m=n.slice(o,p);var l="";if(/^\\[a-z0-9]+$/.test(m)||!r){l=m;}else{for(var k=0;k<m.length;k++){var j=m[k].charCodeAt(0);if(isNaN(j)){continue;}l+="\\"+j.toString(16);}}return n.slice(0,o)+l+n.slice(p);},iterate:function(i,l,j){for(var k in i){if(Object.prototype.hasOwnProperty.call(i,k)&&k!=="length"){l.call(j||this,i[k],k);}}},extend:g,merge:f,toArray:a,isUrlConstructorExists:function(){return e;}};});define("mrg-smokescreen/StyleSheets.Item",["mrg-smokescreen/Utils"],function(b){function f(h){var i=document.createElement("style");i.appendChild(document.createTextNode(""));h=h||{};h.rel="stylesheet";h.type="text/css";h.media=h.media||"screen";b.iterate(h,function(k,j){if(k){i.setAttribute(j,k);}});return i;}function a(h){if(h){this.__rules.push(h);}}function d(h,i){this.__style=f(h);this.__style.__created=true;this.__rules=[];this.__originalNode=i;}function e(j,k,i){var h=k.getAttribute(j);if(h){i.setAttribute(j,h);}}function c(){if(this.__rules.length){this.__style.appendChild(document.createTextNode(this.__rules.join("\n")));}}function g(){var k=document.styleSheets;for(var h=k.length;h>0;h--){var j=k[h-1];if(j&&j.ownerNode&&j.ownerNode.parentNode){return j.ownerNode.parentNode;}}}d.prototype={constructor:d,insert:function(){a.apply(this,arguments);},insertBlock:function(i,h){a.apply(this,[i+"{"+h+"}"]);},setContent:function(h){this.__style.appendChild(document.createTextNode(h));},apply:function(){if(this.__originalNode&&this.__originalNode.parentNode){e("id",this.__originalNode,this.__style);this.__originalNode.parentNode.replaceChild(this.__style,this.__originalNode);}else{(g()||document.head).appendChild(this.__style);}c.apply(this);},getSheet:function(){return this.__style.sheet;}};return d;});define("mrg-smokescreen/StyleSheets.NativeParser",["mrg-smokescreen/Utils"],function(g){function e(j){try{return j.cssRules||j.rules;}catch(k){return null;}}function i(l,k){var j=true;return l.split("url(").map(function(m){if(j){j=false;return m;}return g.replaceUrl(m,k,true);}).join("url(");}var f=/content\s*:\s*/;function d(k){var j=true;return k.split(f).map(function(l){if(j){j=false;return l;}return g.replaceContent(l);}).join("content:");}function h(j){return j.replace(/-([a-z])/g,function(k){return k[1].toUpperCase();});}var b=/^(-?\d+)([a-z%]+)$/;var c=/\s(?![*+\-/]|[^()]+\)+|\(+)/;function a(u,t,s,w){var l="";var m=t(u.selectorText);for(var p=0;p<u.style.length;p++){var j=(u.style.getPropertyPriority(u.style[p])==="important")?" !important":"";var k=u.style[p];if(/background-(repeat|position)-[xy]/.test(k)){k=k.replace(/-[xy]$/,"");}var v=u.style[k]||u.style[h(k)];if(v===undefined||!v.length){k=k.replace(/-(value|(ltr|rtl)-source)$/g,"");v=u.style[k]||u.style[h(k)];}if(v===undefined&&k==="float"){v=u.style.cssFloat;}if(v!==undefined&&v.length){if(w.randomize&&w.randomize.length&&w.randomize.indexOf(k)>-1&&m!=u.selectorText){var o=v.split(c),n=o.length,r=[];while(n--){var q=b.exec(o[n]);r.unshift(q?g.calcString(q[1],q[2]):o[n]);}v=r.join(" ");}l+=k+": "+v+j+"; ";}}if(l.indexOf("url(")!==-1){l=i(l,s);}if(l.indexOf("content")!==-1){l=d(l,s);}return m+" { "+l+" }";}return{iterate:function(k,l,m,n,j){j=j||{};g.iterate(e(k),function(p){switch(p.type){case 1:n(a(p,l,m,j));break;case 4:var o=[];g.iterate(p.cssRules||p.rules,function(q){o.push(a(q,l,m,j));});n("@media "+p.media.mediaText+" { "+o.join(" ")+" }");break;default:n(p.cssText);break;}});}};});define("mrg-nano-xhr",[],function(){var b=new Function;var a=function(){var e={readyState:4,status:-1};e.open=e.send=b;try{e=new window.XMLHttpRequest();}catch(d){try{e=new window.ActiveXObject("Msxml2.XMLHTTP");}catch(d){try{e=new window.ActiveXObject("Microsoft.XMLHTTP");}catch(d){}}}return e;};var c={version:"0.0.15",request:function(h,p){var e=h,d="GET",m=null,o=false,k=false,l=a(),n=null,f=new Date,j={error:n,xhr:l};if(typeof h==="object"){e=h.url;d=h.method||d;m=h.body||m;o=h.sync||o;k=h.credentials||k;}l.withCredentials=k;l.url=e;var g=function(){if(!n&&l.readyState!==4){return;}g=b;j.error=n;l.duration=new Date-f;l.onerror=l.onreadystatechange=null;typeof p==="function"&&p(n,l);};try{l.onreadystatechange=g;l.onerror=function(q){n=q;g();};l.open(d,e,!o);l.send(m);}catch(i){n=i;g();}return j;}};return c;});define("mrg-smokescreen/StyleSheets",["mrg-smokescreen/StyleSheets.Item","mrg-smokescreen/StyleSheets.NativeParser","mrg-smokescreen/Utils","mrg-nano-xhr"],function(h,k,f,m){var b=/(^(https?:)?\/\/[^/]+|\?timestamp=\d+$)/g;function c(n){return n.replace(b,"");}function g(p,n){var o=p(n);return(o!==n?o+",":"")+n;}function l(o){var n=[];f.iterate(o,function(q,p){n.push(p+":"+q+";");});return"{"+n.join("\n")+"}";}function j(n){var p=m.request({url:n.href,sync:true});if(p.error){var o="[CSS LOADING ERROR] Cant load "+n.href;if(window.ajs&&window.ajs.log){window.ajs.log(o);}p.error.description=o;p.error.sheet=n;throw p.error;}return p.xhr.responseText;}function e(n,q){var o=n.map(function(r){return c(r);});function p(){f.iterate(document.styleSheets,function(s){if(s.ownerNode.tagName==="LINK"){var r=d(s).replace(b,"");o=o.filter(function(t){return r!==t;});}});if(o.length){setTimeout(p,100);}else{q();}}p();}function d(o){var n;if(o.ownerNode){n=o.ownerNode.href||o.ownerNode.getAttribute("x-href");n=c(n||"");}return n;}var i={};function a(n,p,o){if(Object.keys(i).length===n.length){p();}n.forEach(function(q){m.request({url:q,sync:false},function(r,s){if(r){o(r);}if(s.readyState!==4){return;}i[c(q)]=s.responseText;if(Object.keys(i).length===n.length){p();}});});}return{update:function(n,p,o){return new Promise(function(r,q){e(n,function(){var s=[].map.call(document.styleSheets,function(t){return t;});a(n,function(){s.forEach(function(A){if(!A.ownerNode||A.ownerNode.__created||A.__updated||A.ownerNode.tagName!=="LINK"){return;}var B=A;A.__updated=true;var u=d(A);if(u){try{var t=i[u];if(t){var v;try{if(A.media){v=A.media.mediaText;}else{v="";}}catch(y){v="";}var z=new h({"x-href":u,media:v},A.ownerNode);z.setContent(t);z.apply();B=z.getSheet();B.__updated=true;var x=new h({"x-href":u,media:v},B.ownerNode);x.__updated=true;k.iterate(B,g.bind(null,p),u,function(C){x.insert(C.toString());},o);x.apply();}}catch(w){q(w);}}});r();},function(t){q(t);});});});},remove:function(n){n=(n||[]).map(function(r){return(r||"").replace(/^https:/,"");});if(n.length){var q=[];f.iterate(document.styleSheets,function(s){var r=d(s);if(r&&n.indexOf(r)!==-1){q.push(s);}});for(var p=q.length-1;p>=0;p--){var o=q[p];o.ownerNode.parentNode.removeChild(o.ownerNode);}}},insert:function(o,q){var p=new h({});var n=g.bind(null,q);var s=function(t,u){return n(t)+l(u);};var r=function(w,u){if(/@(media|supports|document|page|keyframes|font-feature-values)/.test(u)){var t=[];var v=function(y,x){t.push(s(x,y));};f.iterate(w,v);p.insertBlock(u,t.join(""));}else{p.insert(s(u,w));}};f.iterate(o,r);p.apply();}};});define("mrg-smokescreen/Cid",[],function(){function d(j){var i=j.length,h,g;while(0!==i){g=Math.floor(Math.random()*i);i-=1;h=j[i];j[i]=j[g];j[g]=h;}return j;}var b=1000;var f=(function(h){for(var g=0;g<10;g++){h.push(g.toString());}for(var g=0;g<25;g++){h.push(String.fromCharCode(97+g));h.push(String.fromCharCode(65+g));}return d(h);})([]);var c=f.length;function a(g){return(g>=c?a((g/c>>0)-1):"")+f[g%c>>0];}var e=(function(){var g=[];for(var h=0;g.length<5&&h<f.length;h++){if(g.length>0||!/[0-9]/.test(f[h])){g.push(f[h]);}}return g.join("");})();return function(){return e+a(b++);};});define("mrg-smokescreen/Welter",["mrg-smokescreen/Cid","mrg-smokescreen/Utils"],function(f,d){var e=0;var c={};function b(){var g=f(true);c[g]=true;return g;}function a(j,l){var i=document.createDocumentFragment();for(var h=0,g=d.random(j/2,j);h<g;h++){var m=document.createElement("div");e++;if(d.random(0,l)){m.appendChild(a(j,l-1));}var k=0;if(!(d.random(0,j)%2)){m.id=b();k++;}if(!(d.random(0,j)%5)){m.setAttribute("data-bem",b());k++;}if(!(d.random(0,j)%6)){m.setAttribute("data-mnemo",b());k++;}if(!(d.random(0,j)%3)||!k){m.className=b();}i.appendChild(m);}return i;}return{isWelter:function(g){return c[g]!==undefined;},wrap:function(j,g){function i(k){k&&d.toArray(k.querySelectorAll(g)).forEach(function(n){if(n.classList.contains("js-welter-no-wrap")){return;}var l=a(5,5);var m=l.querySelectorAll("div");var o=m[d.random(0,m.length-1)];if(n&&o){n.originalParentNode=n.parentNode;n.parentNode.insertBefore(l,n);o.appendChild(n);}});}try{if(j.nodeType){i(j);}else{if(j.length>=0){if(j.length===1){i(j[0]);}else{d.toArray(j).forEach(i);}}else{console.warn('[Walter.wrap] this "context" not supported:',j);}}}catch(h){console.error(h);}}};});define("mrg-smokescreen/Locator",["mrg-smokescreen/StyleSheets","mrg-smokescreen/Welter","mrg-smokescreen/Utils","mrg-smokescreen/Cid"],function(A,c,f,p){var i=p();var e=0;var q={names:{},reverse:{},wraps:{}};var j={};var r=false;var n=[];var l;var w=/([@#:.]*)([\w$-]+)/gi;var d=[];var x={};var h=(function(){var D=["top","right","bottom","left"];var C=["margin","padding"];var B=["height","width","max-width","max-height","min-height","min-width"];C.forEach(function(E){D.forEach(function(F){B.push(E+"-"+F);});});return B.concat(D,C);})();function o(B){k(B);}function a(B){if(r&&B){return A.update(B,s,x);}}function u(B){if(B){d.push(B);}d.forEach(function(C){A.insert(C,s);});d=[];}function k(B,C){B=f.extend({},x,B||{});x=B;if(!!B.enable){r=true;}if(r){if(B.match&&B.match instanceof Array&&B.match.length>0){n=n.concat(B.match);l=new RegExp("^("+n.join("|")+")");}}if(B.randomize){B.randomize=B.randomize===true?h:B.randomize;}if(B.sheet){u(B.sheet);}}function g(B,C){return(C?C+"@@@":"")+B;}function t(D,E){var C=g(D,E);var B=q.names[C];if(!B&&(r&&l&&l.test(E||D))){B=p();q.names[C]=B;q.reverse[B]=D;}return B||D;}function z(C,D){var B=v(C);if(D){return t(B.elem,D)+(B.mod?"_"+t(B.mod,D):"");}else{return t(B.elem)+(B.mod?"_"+t(B.mod,B.elem):"");}}function v(D){var C=(D?""+D:"").match(/^(.*?[^_])(_([^_]+))?$/);var B;if(C){D=C[1];B=C[3];}return{elem:D,mod:B};}function s(B){return B.replace(w,function(E,D,C){if(!D||/:/.test(D)){return E;}return D+z(C);});}function m(C,D){var B=v(C);if(D){return(q.names[g(B.elem,D)]||B.elem)+(B.mod?"_"+(q.names[g(B.mod,D)]||B.mod):"");}else{return(q.names[B.elem]||B.elem)+(B.mod?"_"+(q.names[g(B.mod,B.elem)]||B.mod):"");}}function b(B,D,C){return(B||"").toString().split(/\s+/).map(function(E){return D(E,C);}).join(" ");}function y(C){var B=v(C);return(q.reverse[B.elem]||B.elem)+(B.mod?"_"+(q.reverse[B.mod]||B.mod):"");}o.prototype={constructor:o,setup:k,selector:function(C,B){var D=s(C);if(B||C==D){return D;}else{return D+", "+C;}},transform:function(B,C){return b(B,z,C);},lookup:function(B,C){return b(B,m,C);},updateSheets:a,removeSheets:function(B){if(r&&B){A.remove(B);}},insertSheet:u,reverse:function(B){return b(B,y);},isWelter:function(B){return c.isWelter(B);},wrap:function(D,B){if(r){var B=B||document;var E;if(B[i]){E=B[i];}else{E=++e;B[i]=E;}var C=j[E];if(C==null){C={};}D.forEach(function(G){if(!C[G]){var F=s(G);C[G]=F;j[E]=C;c.wrap(B,F);}});}},calcString:function(B,C){return r?f.calcString(B,C):B+C;},removeCache:function(B){delete j[B[i]];delete B[i];},isEnabled:function(){return r;}};return o;});define("OK/Smokescreen",["mrg-smokescreen/Locator"],function(b){var a=null;return{getLocator:function(c){if(a){return a;}a=new b({enable:true,randomize:c?c:false,match:[".*"]});return a;},getById:function(d){var c=document.getElementById(d);if(!c&&a){c=document.getElementById(a.transform(d));}return c?c:null;}};});define("mrg-smokescreen/Honeypot",["OK/logger"],function(d){function a(n){var l=/^([a-z][a-z0-9]*)/g;var j=/^\.([A-z0-9\-\_]+)/g;var m=/^#([A-z0-9\-\_]+)/g;var o=/^@([A-z0-9\-\_]+)="((?:[^"\\]|\\.)*)"/g;var k=/^\*(\d+)/g;var p=new RegExp('"',"g");var i=/\s+/;return n.map(function(v){var u=v.split(i);var q=(v.match(p)||[]).length;if(q>0&&q%2===0){var t=null;for(var r=0;r<u.length;r++){if(t===null){var s=(u[r].match(p)||[]).length;if(s&&s%2){t=r;}}else{u[t]+=" "+u[r];if(u[r].indexOf('"')!==-1){t=null;}u[r]=undefined;}}}return u.filter(function(w){return w;}).map(function(x){if(x){var w,y={multi:1};do{l.lastIndex=0;j.lastIndex=0;m.lastIndex=0;o.lastIndex=0;k.lastIndex=0;if(w=l.exec(x)){x=x.substr(l.lastIndex);y.tag=w[1];}else{if(w=j.exec(x)){x=x.substr(j.lastIndex);y.classes=y.classes||[];y.classes.push(w[1]);}else{if(w=m.exec(x)){x=x.substr(m.lastIndex);y.id=w[1];}else{if(w=o.exec(x)){x=x.substr(o.lastIndex);y.attrs=y.attrs||{};y.attrs[w[1]]=w[2].replace(/\\/g,"");}else{if(w=k.exec(x)){x=x.substr(k.lastIndex);y.multi=parseInt(w[1]);}}}}}}while(w&&x.length);if(x.length){throw new Error('Unparsed template: "'+x+'"');}return y;}});});}function f(j){var l=[],o=[];var n;while(n=j.pop()){var m=document.createElement(n.tag||"div");if(!n.attrs){n.attrs={};}if(n.id){n.attrs.id=n.id;}if(n.classes){n.attrs["class"]=n.classes.join(" ");}for(var k in n.attrs){if(n.attrs.hasOwnProperty(k)&&k!=="length"){m.setAttribute(k,n.attrs[k]);}}o.forEach(function(i){m.appendChild(i);});o=[];l.push(m);o.push(m);for(var k=1;k<n.multi;k++){var p=m.cloneNode(true);l.push(p);o.push(p);}}return{baits:l,nodes:o};}function e(i){return{available:typeof window.getComputedStyle==="function",styles:(i||[]).map(function(j){var k=j.split(/\s*:\s*/);return{field:k[0],value:k[1]};})};}function c(i){return i.offsetParent===null;}function g(j,i){if(i.available){i.styles.forEach(function(k){j.style[k.field]=k.value;});}}function h(k,j){var i;if(j.available){var l=window.getComputedStyle(k,null);j.styles.forEach(function(m){if(!i){i=l[m.field]!==m.value&&l[m.field]!=="auto";}});}return i;}function b(i){if((i||"").length){try{var j=new RegExp(i);return Object.keys(window).filter(function(l){return l.match(j);}).length>0;}catch(k){}}}return{version:"1.3.0",check:function(m,t,q){var l=document.getElementsByTagName("body")[0];if(l){try{var s=a(m);var u=e(t);if(b(q)){return true;}var p=[];var r=[];for(var k=0;k<s.length;k++){if(s[k]&&s[k].length){var j=f(s[k]);if(j.nodes&&j.baits&&j.baits.length){var o=document.createElement("div");o.style.position="absolute";o.style.visibility="hidden";j.nodes.forEach(function(i){o.appendChild(i);});l.appendChild(o);j.baits.forEach(function(i){g(i,u);});p=p.concat(j.baits);r.push(o);}}}return new Promise(function(i){window.setTimeout(function(){var v=false;p.forEach(function(w){if(c(w)||h(w,u)){v=true;}});r.forEach(function(w){l.removeChild(w);});i(v===true);},100);});}catch(n){d.success("nb_error","honeypot",n);}return false;}}};});define("OK/banners/blockDetect/honeypotBlockDetect",["mrg-smokescreen/Honeypot"],function(a){function b(d){var f=d.honeypotEnabled||false;if(!f){return Promise.resolve(false);}var g=d.honeypotRules||[".dialogWrapperBanner"];var e=d.honeypotCssRules||["position: relative"];var c=d.honeypotJsConfig||null;return a.check(g,e,c);}return b;});define("OK/banners/blockDetect/networkBlockDetect",[],function(){var b,c;function a(){return new Promise(function(e){function d(){e(true);}window.mailruEnabled=function(){e(false);};b=document.createElement("script");b.type="text/javascript";b.src="//ad.mail.ru/adq/?callback=mailruEnabled&"+Date.now();b.onerror=d;document.head.appendChild(b);c=setTimeout(d,4000);}).then(function(d){document.head.removeChild(b);window.mailruEnabled=null;b=null;clearTimeout(c);return d;});}return a;});define("OK/banners/blockDetect/blockDetect",["OK/logger","OK/cookie","OK/banners/blockDetect/honeypotBlockDetect","OK/banners/blockDetect/networkBlockDetect"],function(c,d,e,a){function f(g){c.success("nb_success","detect",g);}function b(g){if(document.documentElement.classList.contains("ie")){return Promise.resolve(false);}return new Promise(function(p){var i=a(g),l=e(g),k=2,j,o;function m(){if(--k!==0){return;}var q=o||j;p(q);if(o&&j){f("all");}else{if(j){f("network");}if(o){f("honeypot");}}if(q){d.setCookie("nbp","1",15,"/");}else{d.clearCookie("nbp","/");}}function n(q){if(q){p(true);}return q;}function h(){c.success("nb_error","detect","catch");return false;}i.then(n,h).then(function(q){j=q;m();});l.then(n,h).then(function(q){o=q;m();});});}return b;});define("OK/banners/moneySave",["OK/utils/dom","OK/logger","OK/utils/vanilla","OK/banners/StickyBannerContainer","OK/Smokescreen","mrg-smokescreen/Welter","mrg-smokescreen/Utils","OK/banners/blockDetect/blockDetect","OK/banners/SmokescreenImgStyle"],function(F,L,Z,aA,q,ao,W,am,Y){var v="nb_success";var T="nb_error";var j="hook_ViewportHeightAwareBanner_ViewportHeightAwareBannerInner",i="LeftColumnBannerInner";var x="wss://ad.mail.ru/mimic/v1/ws";var aK=true;var E=true;var aw=true;var N=true;var U=false;var at=false;var az=false;var an=false;var b=false;var S=false;var X={topRight:"",message:"",discussion:"",bottomLeft:""};var ak={topRight:"",message:"",discussion:"",bottomLeft:""};var l={topRight:3,message:3,discussion:3,bottomLeft:5};var J="";var ag=false;var au={topRight:-1,message:-1,discussion:-1,bottomLeft:-1};var I="";var aE;var aC="";var ax="";var m=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;var av=F.byClass;var z=F.firstByClass;var V;var aa;var a={topRight:[],message:[],discussion:[],bottomLeft:[]};var g;var e=new Promise(function(aO){g=aO;});var aM;var aN=new Promise(function(aO){aM=aO;});var ar;var f;function Q(aQ,aP){var aO=aQ.getAttribute("style")||"";aQ.setAttribute("style",aO.indexOf(aP)!==-1?aO:aO+aP);}function aH(aO){aO.setAttribute("style","display: none !important");}var M={bottomLeft:new Y("bottomLeft"),topRight:new Y("topRight")};function ad(aP){var aR=aP.children;aP.removeAttribute("style");var aO=aR.length;for(var aQ=0;aQ<aO;aQ++){var aS=aR[aQ];if(aS.classList.contains("delete-stub")){continue;}if(aS.tagName==="DIV"){ad(aS);}}}var aF;aF=function(){return e.then(function(){if(b){aa=q.getLocator(["width"]);}else{aa=q.getLocator();}if(an){M.bottomLeft.createStyleEl();}if(aK){M.topRight.createStyleEl();}var aO=aa.updateSheets(V);aF=function(){return aO;};return aO;});};function D(aQ,aR){var aO=aQ+"Smokescreen";try{aF().then(aR)["catch"](function(aS){L.success(T,aO,aS);});}catch(aP){L.success(T,aO,aP);}}function P(aP,aO,aQ,aR){if(an&&aQ==="bottomLeft"){D(aQ,function(){var aT=document.getElementById("leftColumn");if(!aT){return;}var aS=document.getElementById("hook_Block_StickyBannerContainer");if(aS){ai();ay(aS,["#hook_Block_CompactFooter"]);aa.wrap(["#hook_Block_StickyBannerContainer"],aT);ao.wrap(aT,'#leftColumn > [id^="hook_Block"]');var aU=ae("stickyBannerHook");if(aU){aU.applySmokescreen(aa);}}else{ay(aP,["#hook_Block_CompactFooter"],true);}M.bottomLeft.updateStylesheet(aa);aR();ah(aP,aQ);});}else{if(aQ==="topRight"&&U){if(!S){D(aQ,function(){var aS=document.getElementById("fourthColumnWrapper");if(!aS){return;}var aT=document.getElementById("hook_Block_FrOln4thCol");if(aT){var aU=aT.id;u(aU,[".gifts-widget-w",".fr-motivator-portlet"]);aa.wrap(["#"+aU],aS);ao.wrap(aS,'[id^="hook_"]');}else{aT=q.getById("hook_Block_FrOln4thCol");ay(aT,[".gifts-widget-w",".fr-motivator-portlet"]);}M.topRight.updateStylesheet(aa);aR();ah(aT,aQ);});}else{D(aQ,function(){ay(aP,false,true);af(aP,aQ);M.topRight.updateStylesheet(aa);aR();});}}else{aR();}}}function ah(aP,aQ){var aO=aP.parentNode;if(!aO){return;}var aR=aP.cloneNode(true);af(aR,aQ);aO.replaceChild(aR,aP);return aR;}function af(aQ,aV){var aT=a[aV];var aS=aQ.getElementsByClassName(aa.transform("b-js__href"));for(var aP=0;aP<aS.length;aP++){var aO=aS[aP].getAttribute("data-nbh");if(aO!=null){try{var aR=aT[parseInt(aO,10)];if(aR){aS[aP].addEventListener("click",w.bind(aS[aP],aR,aV));}}catch(aU){L.success(T,aV+"Smokescreen",aU);}}aS[aP].removeAttribute("data-nbh");}r(aV);}function ai(){var aP=document.getElementById("mainContent");var aO=document.getElementById("hook_Block_StickyBannerContainer");if(aP&&aO){if(aP.classList.contains("narrow-feed")){aO.classList.add("narrow-feed");}if(aP.classList.contains("profile-v2")){aO.classList.add("profile-v2");}if(aP.classList.contains("wide-profile")){aO.classList.add("wide-profile");}if(aP.classList.contains("mainContentDoubleColumn")){aO.classList.add("mainContentDoubleColumn");}}}function u(aQ,aP){var aO=document.getElementById(aQ);if(aO){ay(aO,aP);}}function ay(aP,aU,aT){if(aU){for(var aS=0;aS<aU.length;++aS){if(aP.matches(aU[aS])){return;}}}if(!aT){k(aP);}var aR=aP.children;var aO=aR.length;for(var aQ=0;aQ<aO;aQ++){ay(aR[aQ],aU);}}function k(aO){if(aO.id){aO.id=aa.transform(aO.id);}if(aO.className){aO.className=aa.transform(aO.className);}else{aO.removeAttribute("class");}aO.removeAttribute("data-name");aO.removeAttribute("data-params");if(aO.hasAttribute("jsplace")){aO.removeAttribute("jsplace");aO.removeAttribute("style");}if(aO.getAttribute("style")===""){aO.removeAttribute("style");}}function s(aO,aQ){var aP=z(aO,aQ);if(aP){return aP;}else{if(aa){return z(aO,aa.transform(aQ));}else{return null;}}}function ae(aQ){var aP=s(document,aQ);var aO=aP?aP.nativeHookImpl:null;return aO;}function C(aP){if(!aP){return;}var aO=z(aP,"js-banner-wrapper");if(aO){var aQ=z(aP,"feed_close");if(aQ){aQ.addEventListener("click",function(){ad(aP);});}}}function aL(){var aQ=z(document,"feed-list");if(aQ){var aP=aQ.children;var aO=aP.length;for(var aT=0;aT<aO;aT++){C(aP[aT]);}if(m){var aS={attributes:false,childList:true,characterData:false},aR=new m(function(aU){aU.forEach(function(aV){var aW=aV.addedNodes[0];if(aW){var aX=z(aW,"feed");C(aX);}});});aR.observe(aQ,aS);}}}var aI,A;function O(){if(!aI){aI=new Promise(function(aO){A=aO;});}return aI;}function aG(aO){var aQ=document.getElementById("hook_Block_MainContent");if(aQ){if(m){var aP=new m(function(aR){aR.forEach(function(aS){if(aS.type==="childList"&&aS.addedNodes.length>0){aL();}});});aP.observe(aQ,{childList:true});}}aL();Promise.all([aN,O()]).then(function(aR){if(aR[1]){if(!S){B();}h();aD();d();}});am(aO).then(function(aR){A(aR);});}function aD(){var aP=document.getElementById("hook_ToolbarIconDiscussions_ToolbarDiscussions");var aO=new m(function(aQ){aQ.forEach(function(aS){var aT=aS.attributeName;if(aT==="class"){if(!OK.util.is4ColumnActive()){return;}if(aS.target.classList.contains("toolbar_nav_a__discu__active")){var aR=z(document,"topPanel_d");if(aR){var aV=z(aR,"dialogWrapperBanner");var aU=aV?z(aV,"dialogWrapperBanner__inner"):null;if(aU&&aU.innerHTML===""){H(aU,aV,"discussion");}}}}});});if(aw&&aP){aO.observe(aP,{attributes:true});}}function d(){var aR=document.getElementById("msg_layer_wrapper");var aS=document.getElementById("hook_Block_MessagesLayer");if(!E||!aS||!aR){return;}var aP=function(aT){var aV=document.getElementById("hook_Block_MessagesAdsPanel");var aU=document.getElementById("hook_BannerNew_MessagesAdsPanelInner");if(aV&&aU){if(aT){if(OK.util.is4ColumnActive()){H(aU,aV,"message");}}else{aH(aV);}}};var aO=new m(function(aT){aP(true);aO.disconnect();});aO.observe(aS,{childList:true});var aQ=new m(function(aT){aT.forEach(function(aU){if(aU.attributeName==="class"){aP(!aU.target.classList.contains("invisible"));}});});aQ.observe(aR,{attributes:true});}function aJ(aO,aR,aQ){aQ();var aP=au[aO];if(ag&&aP>0){window.setTimeout(function(){if(document.body.contains(aR)&&aR.offsetParent){aJ(aO,aR,aQ);}},aP*1000);}}function H(aP,aO,aQ,aR){return new Promise(function(aS){aJ(aQ,aP,function(){var aU=new p();aU.getAds(aQ).then(function(aX){var aV=(aQ==="topRight"&&U)||(aQ==="bottomLeft"&&an);var aW=K(aP,aX.result,l[aQ],aQ,aV);P(aP,aO,aQ,function(){if(aR){var aZ=aR(aP);if(aZ>=0){aW=aZ;}}L.success(v,"showDirectAd",aW);if(aW>0){G(aX.id,ak[aQ]);var aY=o(aX.result,aW);aU.sendCount(aQ,aY).then(aT,aT);}else{aT();}aS();});});function aT(){aU.cleanup();}});});}function aj(aP,aO){if(!aK||!aP||!aO){return Promise.reject();}return H(aO,aP,"topRight");}function B(){if(!aK){return;}var aQ=document.getElementById("fourthColumnWrapper");if(!aQ){return;}var aO;if(m){aO=new m(function(aT){aT.forEach(function(aU){var aV=aU.attributeName;if(aV==="jsplace"&&aU.target.id==="hook_BannerForthColumn_ForthColumnTopBannerInner"){var aW=aU.target;if(aW&&aW.innerHTML===""&&aW.getAttribute("jsplace")==="p4246"){aO.disconnect();aS(aW).then(function(){setTimeout(aR,0);});}}});});}function aR(){if(aO){aO.observe(aQ,{subtree:true,attributes:true});}}function aS(aT){aT.setAttribute("class","banner_new__loaded");return H(aT,aQ,"topRight").then(function(){var aV=z(document,"friendsOnlineHook");var aU=aV?aV.nativeHookImpl:null;if(aU){aU.doReflow();}});}var aP=document.getElementById("hook_BannerForthColumn_ForthColumnTopBannerInner");if(aP){aS(aP).then(aR);}else{aR();}}function h(){if(!N){return;}var aU=function(){return document.getElementById(j)||document.getElementById(i);};var aT=document.getElementById("mainContentLeftColumn");var aS=aU();if(!aS||!aT){return;}var aR=false;if(aS.id===i){var aQ=s(aS,"banner-controller");if(aQ){aR=(aQ.getAttribute("data-sticky-banner")==="true");}}var aV=function(aX,aW){H(aX,aW,"bottomLeft",function(){var aY=s(aX,"b-context");var a2=aY.children.length;var a3=0;var a5=0;for(var a4=0;a4<a2;++a4){var a6=aY.children[a4];a3+=a6.offsetHeight;if(a3>window.innerHeight*0.65){a6.classList.add(aa.transform("b-invisible"));}else{a5++;}}var a0=(aX.id===i);if(a0){if(aR){var aZ=F.parent(aX,"hookBlock");if(aZ){aA.activate(aZ);}aR=false;}}else{var a1=ae("stickyBannerHook");if(a1){a1.doReflow();}}return a5;});};if(m){var aO=new m(function(aW){aW.forEach(function(aX){var aY=aX.attributeName;if(aX.type==="childList"&&aX.addedNodes.length>0){var a0=aU();var aZ=document.getElementById("mainContentLeftColumn");if(a0&&aZ){aV(a0,aZ);}}});});var aP=document.getElementById("hook_Block_MainContent");aO.observe(aP,{childList:true});}aV(aS,aT);}function al(aQ,aP){var aO=Date.now()+Math.floor((Math.random()*10000)+1);aP.location=ax||window.location.href;aP.agent=navigator.userAgent;return{jsonrpc:"2.0",method:aQ,params:aP,id:aO};}function c(aP,aO){return new Promise(function(aR,aQ){var aT;try{aT=JSON.parse(aO);}catch(aS){L.success(T,"parseError");aQ();return;}if(aT&&aT.error){L.success(T,aP+".respError",aT.error);aQ();return;}if(!aT||!aT.result||!aT.id){L.success(T,aP+".badPayload");aQ();return;}if(aT.result.status!==200){L.success(T,aP+".badStatus",aT.result.status);aQ();return;}aR(aT);});}function aq(aO){return c("page",aO);}function ab(aO){return c("count",aO);}function p(){var aP="/dk";var aO=function(aR){var aQ="cmd="+aC+"&gwt.requested="+window.pageCtx.gwtHash+"&mt=page&pl="+window.encodeURIComponent(aR);return Z.ajax({url:aP,data:aQ,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(aS){return aq(aS.response);},function(aS){L.success(T,"xhrErr",aS.status);});};Object.defineProperty(this,"getAds",{value:aO});this.sendCount=function(aS,aR){var aQ="cmd="+aC+"&gwt.requested="+window.pageCtx.gwtHash+"&mt=count&pl="+aS+"&cnt="+window.encodeURIComponent(aR);return Z.ajax({url:aP,data:aQ,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(aT){return ab(aT.response);});};this.cleanup=function(){};}function K(aT,aS,aQ,aO,aP){if(!aS||!aS.body||!aS.body.direct||!aS.body.direct.ads){L.success(T,"badDirectBlock");return;}var aX="";var aV=aS.body.direct.ads;var aU=0;if(aV.length===0){L.success(T,"emptyAds");return 0;}else{for(var aR=0;aR<aV.length;++aR){if(aR>=aQ){break;}var aW=aV[aR];if(!aW){continue;}aX+=ap(aW,aP,aO);aU++;}}if(aX&&aT){aT.innerHTML='<div class="b-context">'+aX+"</div>";}return aU;}function o(aR,aO){var aS=aR.body.direct.ads;var aQ=aR.body.common.link_head.replace(/^.+\/count\//,"");for(var aP=0;aP<aO;++aP){aQ+=aS[aP].link_tail;}return aQ;}function G(aP,aO){new Image().src="//rs.mail.ru/d"+aO+".gif?rnd="+aP+"&ts="+Date.now();}var y=function(aP){var aO={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;"},aQ=aP?/[&<>"']/g:/&(?!#?\w+;)|<|>|"|'/g;return function(aR){return aR?aR.toString().replace(aQ,function(aS){return aO[aS]||aS;}):"";};};var ac=y(false);function ap(aZ,aR,aO){if(aR){var aQ=aB(aZ.url,aO);var aT=aZ.puny_domain?'<img class="b-context__favicon" src="//favicon.yandex.net/favicon/'+ac(aZ.puny_domain)+'" alt=""/>':"";var aS='<div class="b-context__title b-context__title__link b-js__href" data-nbh="'+aQ+'">'+aT+ac(aZ.title)+"</div>";var aU="";if(aZ.images&&aZ.images[0]){var aX=M[aO].registerImageStyle(ac(aZ.images[0][1]),ac(aZ.images[0][2]),ac(aZ.images[0][0]));aU='<div class="b-context__picture b-js__href b-img-'+aO+aX+'" data-nbh="'+aQ+'"></div>';}var aY='<div class="b-context__content b-context__content__link b-js__href" data-nbh="'+aQ+'">'+ac(aZ.body)+"</div>";var aW=aZ.region?'<span class="b-context__contacts__item">'+ac(aZ.region)+"</span>":"";var aV='<div class="b-context__contacts b-context__contacts__item b-context__contacts__item_link b-js__href" data-nbh="'+aQ+'">'+ac(aZ.domain)+aW+"</div>";var aP=aZ.warning?'<div class="b-context__warning">'+ac(aZ.warning)+"</div>":"";return'<div class="b-context__item">'+aS+aU+aY+aV+aP+"</div>";}else{var aT=aZ.puny_domain?'<img class="b-context__favicon" src="//favicon.yandex.net/favicon/'+ac(aZ.puny_domain)+'" alt=""/>':"";var aS='<div class="b-context__title"><a class="b-context__title__link" href="'+ac(aZ.url)+'" target="_blank">'+aT+ac(aZ.title)+"</a></div>";var aU=(aZ.images&&aZ.images[0])?'<div class="b-context__picture"><a href="'+ac(aZ.url)+'" target="_blank"><img src="'+ac(aZ.images[0][0])+'" width="'+ac(aZ.images[0][1])+'" height="'+ac(aZ.images[0][2])+'" alt=""/></a></div>':"";var aY='<div class="b-context__content"><a class="b-context__content__link" href="'+ac(aZ.url)+'" target="_blank">'+ac(aZ.body)+"</a></div>";var aW=aZ.region?'<span class="b-context__contacts__item">'+ac(aZ.region)+"</span>":"";var aV='<div class="b-context__contacts"><a class="b-context__contacts__item b-context__contacts__item_link" href="'+ac(aZ.url)+'" target="_blank">'+ac(aZ.domain)+"</a>"+aW+"</div>";var aP=aZ.warning?'<div class="b-context__warning">'+ac(aZ.warning)+"</div>":"";return'<div class="b-context__item">'+aS+aU+aY+aV+aP+"</div>";}}function w(aP,aQ,aO){if(aP){t(aP,aQ);aO.stopPropagation();}}function t(aP,aR){L.success(v,aR,"click");if(ar){var aS="/dk?cmd=logExternal&st.name=externalLinkRedirect&st.link="+window.encodeURIComponent(aP)+"&st.sig="+f;var aO=window.open(aS);var aQ=function(){aO.location.href=aP;aO.removeEventListener("load",aQ);};aO.addEventListener("load",aQ,false);}else{window.open(aP);}}function aB(aP,aQ){var aO=a[aQ].length;a[aQ].push(aP);return aO;}function r(aO){a[aO]=[];}function n(aP){if(!aP){return null;}if(!W.isUrlConstructorExists()){return null;}var aO=[];aP.forEach(function(aQ){aO.push(new URL(aQ,window.location.href).href);});return aO;}function R(aP){var aO=aP.getAttribute("data-config");if(aO[0]!=="{"){aO=atob(aO);}aO=JSON.parse(aO);if(aO.removeEl){aP.parentNode.removeChild(aP);}x=aO.mimicUrl||x;aK=aO.topRightBannerEnabled||false;E=aO.messagesBannerEnabled||false;aw=aO.discussionsBannerEnabled||false;N=aO.bottomLeftBannerEnabled||false;X=aO.statId||X;ak=aO.pixelId||ak;ag=aO.refreshEnabled||false;au=aO.refreshInterval||au;J=aO.pageId||J;I=aO.whitelistSelector||I;aC=aO.secretCmd||"";aE=aO.useHttp||false;ax=aO.debugOrigin;U=aO.smokescreenTopRightEnabled||false;at=aO.smokescreenDiscussionsEnabled||false;az=aO.smokescreenMessagesEnabled||false;an=aO.smokescreenBottomLeftEnabled||false;b=aO.smokescreenRandomizeCss||false;ar=aO.adLinksRedirectWrapperEnabled;f=aO.redirectLinkToken;S=aO.fixRightColumnEnabled;V=n(aO.cssUrls);if(document.readyState==="interactive"||document.readyState==="complete"){aG(aO);}else{document.addEventListener("DOMContentLoaded",function(){aG(aO);});}g();}return{activate:R,ready:function(){return Promise.all([aN,O(),aF()]);},onHooksReady:aM,detectAdBlock:O,obfuscate:function(aO,aQ,aP){return aF().then(function(){ay(aO,aQ,aP);});},obfuscateNow:ay,transform:function(aO){return aF().then(function(){return aa.transform(aO);});},transformNow:function(aO){return aa.transform(aO);},openLink:t,attachTopRightBanner:aj};});define("OK/banners/BannerClickLog",["OK/cookie"],function(b){var a=b.readCookie("dme")==="true"||OK.fn.isDebug();var c=function(){};c.prototype={_onclick:function(){OK.logging.logger.success("banner.place",this.place,"click");if(a){console.info("banner click "+this.place);}},activate:function(d){this.place=d.getAttribute("data-place");this._onclickHandler=this._onclick.bind(this);d.addEventListener("click",this._onclickHandler);},deactivate:function(d){d.removeEventListener("click",this._onclickHandler);}};return c;});define("b/primary",["OK/utils/utils","OK/utils/vanilla","OK/utils/throttle","OK/utils/debounce","OK/utils/requireBlock","OK/utils/dom","OK/utils/delegate","OK/utils/StyleSheet","OK/cookie","OK/LogClicks","OK/NewsFetchCoordinator","OK/CommentWidgets","OK/scrollToTop","OK/mrg/projects","OK/mrg/counters","OK/mrg/wamba","OK/HookModel","OK/ToolbarBubble","OK/ToolbarGrowl","OK/banners/StickyBannerContainer","OK/banners/SmokescreenImgStyle","OK/banners/moneySave","OK/banners/BannerClickLog"],{});