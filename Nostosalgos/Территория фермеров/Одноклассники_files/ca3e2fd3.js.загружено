define([],function(){function c(e,d){return e.compareTo(d);}function b(e,d){return{prev:undefined,next:undefined,value:e,remove:function(){d.remove(this);}};}function a(d){this.size=0;this.compare=d||c;this.head=undefined;this.tail=undefined;}a.prototype={add:function(e){e=b(e,this);if(this.head===undefined){this.head=e;this.tail=e;}else{var g=this.head;var f=this.compare(e.value,g.value)>0;if(f){var d=g.next;while(d&&this.compare(e.value,d.value)>0){d=d.next;}if(d){e.next=d;e.prev=d.prev;d.prev.next=e;d.prev=e;}else{e.prev=this.tail;this.tail.next=e;this.tail=e;}}else{e.next=g;g.prev=e;this.head=e;}}this.size+=1;return e;},remove:function(d){if(d.prev){d.prev.next=d.next;if(d.next){d.next.prev=d.prev;}else{this.tail=d.prev;}}else{this.head=d.next;}d.prev=undefined;d.next=undefined;return this.size-=1;},getSize:function(){return this.size;},getHead:function(){return this.head;},getTail:function(){return this.tail;},toArray:function(){var d=[];this.forEach(function(e){d.push(e);return true;});return d;},find:function(e){var d=undefined;this.forEach(function(g,f){if(e.call(this,g)){d=f;return false;}return true;});return d;},forEach:function(d){var e=this.head;while(e){if(d.call(this,e.value,e)!==false){e=e.next;}else{break;}}}};return a;});