define(function(){var a="data:audio/mpeg;base64,/+MYxAAAAANIAUAAAASEEB/jwOFM/0MM/90b/+RhST//w4NFwOjf///PZu////9lns5GFDv//l9GlUIEEIAAAgIg8Ir/JGq3/+MYxDsLIj5QMYcoAP0dv9HIjUcH//yYSg+CIbkGP//8w0bLVjUP///3Z0x5QCAv/yLjwtGKTEFNRTMuOTeqqqqqqqqqqqqq/+MYxEkNmdJkUYc4AKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",d=OK.cnst.staticUrl+"res/default/sound/videochat/ring.mp3",c=OK.cnst.staticUrl+"res/default/sound/videochat/olga.mp3",o=OK.cnst.staticUrl+"res/default/sound/videochat/busy.mp3",q=OK.cnst.staticUrl+"res/default/sound/videochat/connecting.mp3",j=OK.cnst.staticUrl+"res/default/sound/videochat/beep.mp3",g=OK.cnst.staticUrl+"res/default/sound/videochat/drop.mp3";var m=null,h=true,f=null;b();function b(){try{m=new Audio();m.preload="auto";m.autoplay=false;m.loop=false;m.src=a;var s=m.play();if(!s){h=false;return;}s["catch"](function(v){if(v.name==="NotAllowedError"){window.addEventListener("click",function u(){h=true;window.removeEventListener("click",u);});h=false;}});}catch(t){h=false;}}function l(s,t,v){n();if(!h){return;}if(!Array.isArray(s)){s=[s];}v=v||0;var u=0,w=s.length;function x(){m.onended=function(){u=(u+1)%w;if(!t&&!u){n();}else{f=setTimeout(function(){f=null;m.src=s[u];m.play();},v);}};m.oncanplay=null;m.src=s[u];m.play();}if(!m.src||m.readyState>m.HAVE_FUTURE_DATA){x();}else{m.oncanplay=x;}}function k(s){l(s||[d,c],true);}function p(){l(o);}function e(){l(q,true,2000);}function r(s){l(s||j,true);}function i(){l(g);}function n(){if(m&&m.src){m.onended=null;m.oncanplay=null;m.pause();m.removeAttribute("src");}if(f){clearTimeout(f);f=null;}}return{incoming:k,busy:p,connecting:e,calling:r,drop:i,stop:n};});