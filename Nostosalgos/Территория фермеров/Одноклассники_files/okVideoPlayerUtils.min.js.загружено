/*! okHtml5Player v10.11.3 | 2019-03-22 13:58:47 */
define(["exports","module"],function(a,b){"use strict";function c(a,b){var c=a.split("/");return c.pop(),c.push(b),c.join("/")}function d(a){if(!s.major)return void a(w);if(!0===document.hidden)return void a(v);var b=0;!function c(){"getVersion"in r?a(u):++b<100?setTimeout(c,20):a(t)}()}function e(a){try{var b=document.createElement("audio");b.src="data:audio/mpeg;base64,/+MYxAAAAANIAUAAAASEEB/jwOFM/0MM/90b/+RhST//w4NFwOjf///PZu////9lns5GFDv//l9GlUIEEIAAAgIg8Ir/JGq3/+MYxDsLIj5QMYcoAP0dv9HIjUcH//yYSg+CIbkGP//8w0bLVjUP///3Z0x5QCAv/yLjwtGKTEFNRTMuOTeqqqqqqqqqqqqq/+MYxEkNmdJkUYc4AKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",b.play().then(function(){a(!0)}).catch(function(b){a("NotAllowedError"!==b.name)})}catch(b){a(!0)}}function f(a){var b={OTHER:0,LAYER:1,FEED:2,EMBED:3,MINI:4,TOPIC:5,MESSAGE:6,MAP:7,MUSIC:8},c=a.split("/").reverse();"anonym"===c[0]&&c.shift();var d=c[1]||c[0];return~d.indexOf("AutoplayLayer")?b.LAYER:~d.indexOf("LayerBody")?b.TOPIC:~d.indexOf("Feed")?b.FEED:~d.indexOf("VideoEmbed")?b.EMBED:~d.indexOf("MiniVideoPlayer")?b.MINI:~d.indexOf("Conversation")?b.MESSAGE:~d.indexOf("okLiveMap")?b.MAP:~d.indexOf("MusicVideo")?b.MUSIC:b.OTHER}var g=navigator.appVersion,h=navigator.appName,i=navigator.userAgent,j=function(){var a={Windows:/Win/,Android:/Android/,OpenBSD:/OpenBSD/,SunOS:/SunOS/,Linux:/(Linux|X11)/,iPad:/(iPad)/,iPhone:/(iPhone)/,iPod:/(iPod)/,MacOS:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh|Mac OS X)/,QNX:/QNX/,UNIX:/UNIX/,BeOS:/BeOS/,OS2:/OS\/2/,Bot:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/};for(var b in a)if(a.hasOwnProperty(b)&&a[b].test(i))return b;return"Unknown"}(),k=/Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(g),l=function(){var a,b=i.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[],c=!1,d=0;if(/trident/i.test(b[1]))return a=/\brv[ :]+(\d+)/g.exec(i),["IE",a[1]||"Unknown",c,d];if("Chrome"===b[1]){if(c=!0,d=b[2],a=i.match(/\bOPR\/(\d+)/))return["Opera",a[1]||"Unknown",c,d];if(a=i.match(/\bYaBrowser\/(\d+)/))return["Yandex",a[1]||"Unknown",c,d]}return a=i.match(/version\/(\d+)/i),[b[2]?b[1]:h,a&&a[1]||b[2]||g,c,d]}(),m=function(){var a=document.createElement("video");return!!(a.canPlayType&&a.canPlayType('video/mp4; codecs="avc1.42C01E,mp4a.40.2"').replace(/no/,"")&&a.canPlayType('video/mp4; codecs="avc1.64001E,mp4a.40.2"').replace(/no/,""))}(),n=function(){if(!k&&"Safari"!==l[0])return!1;var a=document.createElement("video");return!(!a.canPlayType||!a.canPlayType("application/x-mpegurl").replace(/no/,""))}(),o=function(){var a=window.MediaSource;return!!(window.MediaStreamTrack&&a&&a.isTypeSupported&&a.isTypeSupported('video/mp4; codecs="avc1.42C01E,mp4a.40.2"')&&a.isTypeSupported('video/mp4; codecs="avc1.64001E,mp4a.40.2"'))}(),p=function(){var a=window.MediaSource;return!!(a&&a.isTypeSupported&&a.isTypeSupported('video/webm; codecs="vp9"'))}(),q=function(){var a=window.webkitMediaStream||window.MediaStream,b=window.mozRTCSessionDescription||window.RTCSessionDescription,c=window.mozRTCIceCandidate||window.RTCIceCandidate,d=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection;return!!(a&&b&&c&&d)}(),r=function(){function a(a,b){var c=document.createElement("param");return c.name=a,c.value=b,c}var d=b.config().flashDetect||c(b.uri,"flashDetect.swf");if(window.ActiveXObject){var e=document.createElement("div"),f='<object id="FlashDetectorSwfId" width="1" height="1" style="position:absolute;top:-9999px;left:-9999px;" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"><param name="movie" value="'+d+'"/><param name="allowScriptAccess" value="always"/><param name="menu" value="false"/></object>';return e.innerHTML=f,f=e.firstChild,document.body.appendChild(f),f}var g=document.createElement("object");return g.id="FlashDetectorSwfId",g.width="1",g.height="1",g.style.position="absolute",g.style.top="-9999px",g.style.left="-9999px",g.type="application/x-shockwave-flash",g.data=d,g.appendChild(a("allowScriptAccess","always")),g.appendChild(a("menu","false")),document.body.appendChild(g),g}();!function(){function c(a){return!(a.offsetParent||a.offsetHeight||a.offsetWidth||a.offsetLeft||a.offsetTop||a.clientHeight||a.clientWidth)}var d=document.createElement("div");if(d.className="pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links",d.style.width="1px",d.style.height="1px",d.style.position="absolute",d.style.left="-10000px",d.style.top="-1000px",document.body.appendChild(d),a.adBlock=!1,c(d))a.adBlock=!0,document.body.removeChild(d);else{var e=b.config().adbTimeout||10;setTimeout(function(){a.adBlock=c(d),document.body.removeChild(d)},e)}}();var s=function(){var a={major:0,minor:0,release:0},b=null;if(void 0!==navigator.plugins&&"object"==typeof navigator.plugins["Shockwave Flash"])(b=navigator.plugins["Shockwave Flash"].description)&&void 0!==navigator.mimeTypes&&navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(b=b.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),a.major=parseInt(b.replace(/^(.*)\..*$/,"$1"),10),a.minor=parseInt(b.replace(/^.*\.(.*)\s.*$/,"$1"),10),a.release=/[a-zA-Z]/.test(b)?parseInt(b.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(void 0!==window.ActiveXObject)try{var c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");c&&(b=c.GetVariable("$version"))&&(b=b.split(" ")[1].split(","),a.major=parseInt(b[0],10),a.minor=parseInt(b[1],10),a.release=parseInt(b[2],10))}catch(a){}return a}(),t=0,u=1,v=2,w=3,x=function(){function a(a){var d=b.config();if(!d.noComscore){if(!require.defined("streamsense")){var e=d.streamsense||c(b.uri,"streamsense.min");require.config({paths:{streamsense:e}})}require(["streamsense"],a)}}function d(b,c){a(function(a){(!i||b&&null!==k&&b!==k)&&(i=new a.StreamingTag({customerC2:"9999305"})),b&&(k=b),c(a,i)})}function e(a,b,c){j&&"stop"===a?(d(b,c),j=!1):j||"play"!==a&&"adv"!==a||(d(b,c),j=!0)}function f(a,b,c,d,f){e("play",a,function(e,g){var h={ns_st_ci:a,ns_st_cl:1e3*b,ns_st_st:f||"*null",ns_st_pu:"*null",ns_st_pr:d,ns_st_ep:"*null",ns_st_sn:"*null",ns_st_en:"*null",ns_st_ge:"*null",ns_st_ti:"*null",ns_st_ia:"0",ns_st_ce:"1",ns_st_ddt:"*null",ns_st_tdt:"*null",c3:"odnkls",c4:c,c6:"*null"},i=e.StreamingTag.ContentType.UserGeneratedLongFormOnDemand;switch(c){case"LIVE_TV_APP":i=e.StreamingTag.ContentType.UserGeneratedLive;break;case"LIVE_TV_ODKL":i=e.StreamingTag.ContentType.Live;break;case"PARTNER":i=e.StreamingTag.ContentType.LongFormOnDemand}g.playVideoContentPart(h,i)})}function g(){e("stop",null,function(a,b){b.stop()})}function h(a,b,c){e("adv",null,function(d,e){var f=d.StreamingTag.AdType.LinearOnDemandPreRoll;"midroll"===a?f=d.StreamingTag.AdType.LinearOnDemandMidRoll:"postroll"===a&&(f=d.StreamingTag.AdType.LinearOnDemandPostRoll),"LIVE_TV_APP"!==c&&"LIVE_TV_ODKL"!==c||(f=d.StreamingTag.AdType.LinearLive),e.playVideoAdvertisement({ns_st_cl:1e3*b},f)})}var i=null,j=!1,k=null;return{play:f,stop:g,adv:h}}();Object.assign(a,{touch:"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0,mobile:k,os:j,name:l[0],version:l[1],isChromeBased:l[2],baseChromeVersion:l[3],mp4:m,hls:n,dash:o,webm:p,webrtc:q,isIos:"iPad"===j||"iPhone"===j||"iPod"===j,isIpad:"iPad"===j,isIphone:"iPhone"===j,isAndroid:"Android"===j,isMac:"MacOS"===j,flash:s,checkFlashStatus:d,checkAutoplayAllowed:e,comScoreStat:x,getRBLocation:f,FLASH_BLOCKED:t,FLASH_READY:u,FLASH_UNKNOWN:v,FLASH_MISSING:w})});